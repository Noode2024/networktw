(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{259:function(e,t,a){},274:function(e,t,a){e.exports=a(684)},279:function(e,t,a){},284:function(e,t,a){},285:function(e,t,a){},295:function(e,t){},297:function(e,t){},387:function(e,t){},460:function(e,t){},60:function(e,t,a){"use strict";(function(e){var n=a(272),r=a(6),s=a(5),i=a(7),c=a(1),l=a(2),o=a(17),u=a.n(o),d=a(18),h=a.n(d),p=a(28),m=a.n(p),f=a(49),v=a.n(f),b=a(105),y=a.n(b),g=a(83),E=a.n(g),k=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,[{key:"signBytes",value:function(e){}},{key:"getType",value:function(){}},{key:"rlpInput",value:function(){}}]),e}(),T=function(){function e(t,a){Object(c.a)(this,e),this.thetaWei=t,this.tfuelWei=a}return Object(l.a)(e,[{key:"rlpInput",value:function(){var e=[this.thetaWei.isEqualTo(new h.a(0))?u.a.fromNat("0x0"):u.a.fromNumber(this.thetaWei),this.tfuelWei.isEqualTo(new h.a(0))?u.a.fromNat("0x0"):u.a.fromNumber(this.tfuelWei)];return e}}]),e}(),O=function(){function e(t,a,n,r){Object(c.a)(this,e),this.address=t,this.coins=new T(a,n),this.sequence=r,this.signature=""}return Object(l.a)(e,[{key:"setSignature",value:function(e){this.signature=e}},{key:"rlpInput",value:function(){return[this.address.toLowerCase(),this.coins.rlpInput(),u.a.fromNumber(this.sequence),this.signature]}}]),e}(),C=function(){function e(t,a,n){Object(c.a)(this,e),this.address=t,this.coins=new T(a,n)}return Object(l.a)(e,[{key:"rlpInput",value:function(){return[this.address.toLowerCase(),this.coins.rlpInput()]}}]),e}(),w=2,j=function(){function e(t){Object(c.a)(this,e),this.nonce="0x0",this.gasPrice="0x0",this.gas="0x0",this.to="0x0000000000000000000000000000000000000000",this.value="0x0",this.input=t}return Object(l.a)(e,[{key:"rlpInput",value:function(){return[u.a.fromNat(this.nonce),u.a.fromNat(this.gasPrice),u.a.fromNat(this.gas),this.to.toLowerCase(),u.a.fromNat(this.value),this.input]}}]),e}(),_=function(e){function t(e,a,n,i,l,o){var u;Object(c.a)(this,t),(u=Object(r.a)(this,Object(s.a)(t).call(this))).fee=new T(new h.a(0),l);var d=new O(e,n,i.plus(l),o);u.inputs=[d];var p=new C(a,n,i);return u.outputs=[p],u}return Object(i.a)(t,e),Object(l.a)(t,[{key:"setSignature",value:function(e){this.inputs[0].setSignature(e)}},{key:"signBytes",value:function(e){var t=this.inputs[0],a=t.signature;t.signature="";var n=m.a.encode(u.a.fromString(e)),r=m.a.encode(u.a.fromNumber(this.getType())),s=m.a.encode(this.rlpInput()),i=n+r.slice(2)+s.slice(2),c=new j(i),l=m.a.encode(c.rlpInput());return t.signature=a,l}},{key:"getType",value:function(){return w}},{key:"rlpInput",value:function(){for(var e=this.inputs.length,t=this.outputs.length,a=[],n=[],r=0;r<e;r++)a[r]=this.inputs[r].rlpInput();for(var s=0;s<t;s++)n[s]=this.outputs[s].rlpInput();var i=[this.fee.rlpInput(),a,n];return i}}]),t}(k),N=function(e){return(v()(e)||y()(e))&&/^(-)?0x[0-9a-f]*$/i.test(e)},S=function(e){if(e=e.toString(16),!N(e))throw new Error('Given value "'.concat(e,'" is not a valid hex string.'));e=(e=e.replace(/^0x/i,"")).length%2?"0"+e:e;for(var t=[],a=0;a<e.length;a+=2)t.push(parseInt(e.substr(a,2),16));return t};h.a.prototype.pad=function(e){for(var t=String(this);t.length<(e||2);)t="0"+t;return t};var A,x=function(e){var t="0x"===e.slice(0,2)?16:10;return"0x"+new h.a(e,t).pad(2)},W=new(a(21).ec)("secp256k1"),P=(A=0,function(t,a){var r=W.keyFromPrivate(new e(a.slice(2),"hex")).sign(new e(t.slice(2),"hex"),{canonical:!0});return function(e){var t=Object(n.a)(e,3),a=t[0],r=t[1],s=t[2];return u.a.flatten([r,s,a])}([x(u.a.fromNumber(A+r.recoveryParam)),u.a.pad(32,u.a.fromNat("0x"+r.r.toString(16))),u.a.pad(32,u.a.fromNat("0x"+r.s.toString(16)))])}),I={SendTx:_,TxSigner:function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"signAndSerializeTx",value:function(e,t,a){var n=this.signTx(e,t,a);return this.serializeTx(n)}},{key:"signTx",value:function(e,t,a){var n=function(e){N(e)&&/^0x/i.test(e.toString())&&(e=S(e));var t=E.a.keccak256(e);return"0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"===t?null:t}(t.signBytes(e)),r=P(n,a);return t.setSignature(r),t}},{key:"serializeTx",value:function(e){return m.a.encode(u.a.fromNumber(e.getType()))+m.a.encode(e.rlpInput()).slice(2)}}]),e}(),Utils:{hexToBytes:S,bytesToHex:function(e){for(var t=[],a=0;a<e.length;a++)t.push((e[a]>>>4).toString(16)),t.push((15&e[a]).toString(16));return t.join("")}}};t.a=I}).call(this,a(14).Buffer)},602:function(e,t,a){},603:function(e,t,a){},605:function(e,t,a){},606:function(e,t,a){},607:function(e,t,a){},608:function(e,t,a){},609:function(e,t,a){},610:function(e,t,a){},611:function(e,t,a){},612:function(e,t,a){},613:function(e,t,a){},614:function(e,t,a){},615:function(e,t,a){},650:function(e,t,a){},651:function(e,t,a){},652:function(e,t,a){},653:function(e,t,a){},654:function(e,t,a){},655:function(e,t,a){},656:function(e,t,a){},657:function(e,t,a){},658:function(e,t,a){},659:function(e,t,a){},665:function(e,t,a){},666:function(e,t,a){},667:function(e,t,a){},668:function(e,t,a){},669:function(e,t,a){},670:function(e,t,a){},671:function(e,t,a){},672:function(e,t,a){},673:function(e,t,a){},674:function(e,t,a){},682:function(e,t,a){},684:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(58),i=a.n(s),c=(a(279),a(1)),l=a(2),o=a(6),u=a(5),d=a(7),h=a(686),p=a(688),m=a(687),f=a(273),v=a(32),b=a(50),y=a(266),g=a(267),E=a(61),k="".concat("WALLET","/FETCH_WALLET_ETHEREUM_BALANCES"),T="".concat(k,"/START"),O="".concat(k,"/END"),C=("".concat(k,"/FAILURE"),"".concat(k,"/SUCCESS")),w="".concat("WALLET","/FETCH_WALLET_BALANCES"),j="".concat(w,"/START"),_="".concat(w,"/END"),N=("".concat(w,"/FAILURE"),"".concat(w,"/SUCCESS")),S="".concat("WALLET","/SET_WALLET_ADDRESS"),A=("".concat("WALLET","/UNLOCK"),"".concat("WALLET","/RESET")),x=a(10);function W(e,t){return Object.assign.apply(Object,[{}].concat(Object(b.a)(e.map(function(e,a){return Object(x.a)({},e,t[a])}))))}function P(e,t){if(null===e)return!0;var a=e.split(".");return!(a.length>0)||a[a.length-1].length<=t}function I(e,t){var a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),a.setAttribute("download",e),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}function B(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);var a=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);t.select(),document.execCommand("copy"),document.body.removeChild(t),a&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(a))}function H(){var e=!0;try{e=window.navigator.onLine}catch(t){e=!0}return e}function F(e,t,a){if(!e)return e;if(e.length<=t)return e;var n=t-(a=a||"...").length,r=Math.ceil(n/2),s=Math.floor(n/2);return e.substr(0,r)+a+e.substr(e.length-s)}var L={isFetchingBalances:!1,isFetchingEthereumBalances:!1,address:null,name:null,balances:[],balancesByType:{},ethereumBalances:[],ethereumBalancesByType:{}},U="".concat("TRANSACTIONS","/FETCH_TRANSACTIONS_ETHEREUM"),M="".concat(U,"/START"),R="".concat(U,"/END"),D=("".concat(U,"/FAILURE"),"".concat(U,"/SUCCESS")),K="".concat("TRANSACTIONS","/FETCH_TRANSACTIONS_ERC20"),V="".concat(K,"/START"),G="".concat(K,"/END"),z=("".concat(K,"/FAILURE"),"".concat(K,"/SUCCESS")),Y="".concat("TRANSACTIONS","/FETCH_TRANSACTIONS_THETA"),X="".concat(Y,"/START"),J="".concat(Y,"/END"),q=("".concat(Y,"/FAILURE"),"".concat(Y,"/SUCCESS")),Z="".concat("TRANSACTIONS","/CREATE_TRANSACTION"),Q="".concat(Z,"/START"),$="".concat(Z,"/END"),ee=("".concat(Z,"/FAILURE"),"".concat(Z,"/SUCCESS")),te="".concat("TRANSACTIONS","/FETCH_TRANSACTION"),ae=("".concat(te,"/START"),"".concat(te,"/END"),"".concat(te,"/FAILURE"),"".concat(te,"/SUCCESS")),ne="".concat("TRANSACTIONS","/RESET"),re=a(12),se=a.n(re),ie={ETHEREUM:"ethereum",ERC20_THETA:"erc20",THETA:"theta",THETA_FUEL:"tfuel"};function ce(e){return e===ie.ETHEREUM?"Ethereum":e===ie.ERC20_THETA?"ERC20 Theta":e===ie.THETA?"Theta":e===ie.THETA_FUEL?"TFuel":void 0}var le=ie,oe={ETHEREUM:"ethereum",THETA_TESTNET:"testnet",THETA_MAINNET:"mainnet"};function ue(e){return e===oe.ETHEREUM}function de(e){return e===oe.THETA_MAINNET||e===oe.THETA_TESTNET}var he=oe,pe=a(18),me={isFetchingTransactions:!1,isCreatingTransaction:!1,transactions:[],transactionsByHash:{},pendingTransaction:{},localTransactionsByHash:{},isFetchingERC20Transactions:!1,isFetchingEthereumTransactions:!1,ethereumNetworkTransactionsByHash:{},ethereumNetworkTransactionsByType:{}};function fe(e,t,a){return ue(e)?function(e,t,a){var n=null,r=null;return t.tokenType===le.ERC20_THETA?(n=le.ERC20_THETA,r="THETA"):t.tokenType===le.ETHEREUM&&(n=le.ETHEREUM,r="ETH"),{type:n,from:t.from,to:t.to,hash:a,token_symbol:r,dec_value:t.amount,time_stamp:""+(new Date).getTime()/1e3,bound:"outbound",is_local:!0,network:e}}(e,t,a):de(e)?function(e,t,a){var n=t.tokenType,r=t.from,s=t.to,i=t.amount,c=t.transactionFee;return{hash:a,timestamp:""+(new Date).getTime()/1e3,fee:{theta:"0",tfuel:c},inputs:[{address:r,coins:{theta:n===le.THETA?i:0,tfuel:(n===le.THETA_FUEL?i:0)+c}}],outputs:[{address:s,coins:{theta:n===le.THETA?i:0,tfuel:n===le.THETA_FUEL?i:0}}],is_local:!0,bound:"outbound",network:e}}(e,t,a):null}var ve="".concat("MODALS","/SHOW_MODAL"),be="".concat("MODALS","/HIDE_MODAL"),ye="".concat("MODALS","/HIDE_MODALS"),ge={modals:[]},Ee=Object(E.c)({wallet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object.assign({},e,{isFetchingEthereumBalances:!0});case O:return Object.assign({},e,{isFetchingEthereumBalances:!1});case C:var a=t.response.body.balances;return Object.assign({},e,{ethereumBalances:a,ethereumBalancesByType:W(a.map(function(e){return e.type}),a.map(function(e){return e.value}))});case j:return Object.assign({},e,{isFetchingBalances:!0});case _:return Object.assign({},e,{isFetchingBalances:!1});case N:var n=t.response.body.balances;return Object.assign({},e,{balances:n,balancesByType:W(n.map(function(e){return e.type}),n.map(function(e){return e.value}))});case S:return Object.assign({},e,{address:t.address});case A:return L;default:return e}},transactions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object.assign({},e,{isFetchingERC20Transactions:!0});case G:return Object.assign({},e,{isFetchingERC20Transactions:!1});case z:var a=t.response.body.transactions;return Object.assign({},e,{ethereumNetworkTransactionsByHash:Object.assign({},e.ethereumNetworkTransactionsByHash,W(a.map(function(e){return e.hash}),a)),ethereumNetworkTransactionsByType:Object.assign({},e.ethereumNetworkTransactionsByType,{erc20:a})});case M:return Object.assign({},e,{isFetchingEthereumTransactions:!0});case R:return Object.assign({},e,{isFetchingEthereumTransactions:!1});case D:var n=t.response.body.transactions;return Object.assign({},e,{ethereumNetworkTransactionsByHash:Object.assign({},e.ethereumNetworkTransactionsByHash,W(n.map(function(e){return e.hash}),n)),ethereumNetworkTransactionsByType:Object.assign({},e.ethereumNetworkTransactionsByType,{ethereum:n})});case X:return Object.assign({},e,{isFetchingTransactions:!0});case J:return Object.assign({},e,{isFetchingTransactions:!1});case q:var r=t.response.body.transactions;return r=se.a.filter(r,function(e){return null!==e.inputs}),Object.assign({},e,{transactionsByHash:Object.assign({},e.transactionsByHash,W(r.map(function(e){return e.hash}),r)),transactions:r});case Q:return Object.assign({},e,{isCreatingTransaction:!0,pendingTransaction:t.metadata.txData});case $:return Object.assign({},e,{isCreatingTransaction:!1});case ee:var s=t.response.body.hash,i=fe(t.metadata.network,e.pendingTransaction,s);return Object.assign({},e,{localTransactionsByHash:Object.assign({},e.localTransactionsByHash,Object(x.a)({},s,i)),pendingTransaction:null});case ae:var c=t.metadata,l=null,o=t.response.body.transactions;if(de(c.network)&&(o=se.a.filter(o,function(e){return null!==e.inputs})),o.length>0){if(l=o[0],ue(c.network)){var u=Object.assign({},e.ethereumNetworkTransactionsByHash,Object(x.a)({},l.hash,l)),d=Object.assign({},e.ethereumNetworkTransactionsByType,Object(x.a)({},l.type,[].concat(Object(b.a)(e.ethereumNetworkTransactionsByType[l.type]),[l])));return Object.assign({},e,{localTransactionsByHash:se.a.omit(e.localTransactionsByHash,l.hash),ethereumNetworkTransactionsByHash:u,ethereumNetworkTransactionsByType:d})}var h=Object.assign({},e.transactionsByHash,Object(x.a)({},l.hash,l));return Object.assign({},e,{localTransactionsByHash:se.a.omit(e.localTransactionsByHash,l.hash),transactionsByHash:h,transactions:Object.values(h)})}return e;case ne:return me;default:return e}},modals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:var a=t.modal,n=a.type,r=a.props;return Object.assign({},e,{modals:[].concat(Object(b.a)(e.modals),[{type:n,props:r}])});case be:return Object.assign({},e,{modals:e.modals.slice(0,-1)});case ye:return Object.assign({},e,{modals:[]});default:return e}}}),ke=(Object(g.createLogger)(),[y.a,!1].filter(function(e){return se.a.isFunction(e)})),Te=Object(E.d)(Ee,E.a.apply(void 0,Object(b.a)(ke))),Oe=a(3),Ce=(a(284),a(285),a(8)),we=a.n(Ce),je=a(13),_e=a(114),Ne=a(70),Se=a.n(Ne),Ae=new Se.a("https://mainnet.infura.io/v3/40980e2189924c8abfc5f60dd2e5dc4b"),xe=new Ae.eth.Contract([{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function",signature:"0x06fdde03"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x095ea7b3"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x18160ddd"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_amount",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x23b872dd"},{constant:!0,inputs:[],name:"getController",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function",signature:"0x3018205f"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function",signature:"0x313ce567"},{constant:!1,inputs:[{name:"_newController",type:"address"}],name:"changeController",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x3cebb823"},{constant:!1,inputs:[{name:"_owner",type:"address"},{name:"_amount",type:"uint256"}],name:"mint",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x40c10f19"},{constant:!1,inputs:[{name:"_unlockTime",type:"uint256"}],name:"changeUnlockTime",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x48f1cfdb"},{constant:!0,inputs:[],name:"getUnlockTime",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x602bc62b"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x70a08231"},{constant:!1,inputs:[{name:"_addr",type:"address"}],name:"allowPrecirculation",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x8ef16d02"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function",signature:"0x95d89b41"},{constant:!0,inputs:[{name:"_addr",type:"address"}],name:"isPrecirculationAllowed",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function",signature:"0x99d84045"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_amount",type:"uint256"}],name:"transfer",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0xa9059cbb"},{constant:!1,inputs:[{name:"_addr",type:"address"}],name:"disallowPrecirculation",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0xcc481912"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0xdd62ed3e"},{constant:!0,inputs:[],name:"controller",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function",signature:"0xf77c4791"},{inputs:[{name:"_unlockTime",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Transfer",type:"event",signature:"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_spender",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Approval",type:"event",signature:"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925"}],"0x3883f5e181fccaF8410FA61e12b59BAd963fb645"),We=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"getWeb3",value:function(){return Ae}},{key:"getTransactionFee",value:function(e,t){try{var a=Ae.utils.toWei(e.toString(),"Gwei"),n=t.toString();return Ae.utils.fromWei((parseInt(a)*parseInt(n)).toString())}catch(r){return null}}},{key:"unsignedTransaction",value:function(e){var t=e.tokenType,a=e.from,n=e.to,r=e.amount,s=e.gas,i=e.gasPrice,c=Ae.utils.toWei(r),l=Ae.utils.toWei(i.toString(),"Gwei");return t===le.ERC20_THETA?{from:a,to:"0x3883f5e181fccaF8410FA61e12b59BAd963fb645",data:xe.methods.transfer(n,c).encodeABI(),gas:s,gasPrice:l}:t===le.ETHEREUM?{from:a,to:n,value:c,gas:s,gasPrice:l}:void 0}},{key:"estimateGas",value:function(){var t=Object(je.a)(we.a.mark(function t(a){var n,r;return we.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.unsignedTransaction(a),t.next=4,Ae.eth.estimateGas(n);case 4:return r=t.sent,t.abrupt("return",r);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",null);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()},{key:"getGasPrice",value:function(){var e=Object(je.a)(we.a.mark(function e(){var t;return we.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ae.eth.getGasPrice();case 3:if(!(t=e.sent)){e.next=8;break}return e.abrupt("return",parseInt(Ae.utils.fromWei(t,"Gwei"))+1);case 8:return e.abrupt("return",null);case 9:e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",null);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"isAddress",value:function(e){try{return Ae.utils.isAddress(e)}catch(t){return!1}}},{key:"signTransaction",value:function(){var t=Object(je.a)(we.a.mark(function t(a,n){var r,s;return we.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.unsignedTransaction(a),t.next=3,Ae.eth.accounts.signTransaction(r,n);case 3:if(!(s=t.sent)){t.next=8;break}return t.abrupt("return",s.rawTransaction);case 8:throw new Error("Failed to sign transaction.");case 9:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()}]),e}(),Pe=a(60),Ie={isThetaNetworkLive:!0,thetaNetwork:he.THETA_MAINNET,thetaChainID:"mainnet"},Be=a(28),He=a.n(Be),Fe=a(17),Le=a.n(Fe),Ue=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"getTransactionFee",value:function(){return 1e-6}},{key:"getChainID",value:function(){return Ie.thetaChainID}},{key:"unsignedTransaction",value:function(e,t){var a=e.tokenType,n=e.from,r=e.to,s=e.amount,i=e.transactionFee,c=new pe.BigNumber(10).pow(18),l=a===le.THETA?new pe.BigNumber(s).multipliedBy(c):new pe.BigNumber(0),o=a===le.THETA_FUEL?new pe.BigNumber(s).multipliedBy(c):new pe.BigNumber(0),u=new pe.BigNumber(i).multipliedBy(c),d=n,h=r,p=t;return new Pe.a.SendTx(d,h,l,o,u,p)}},{key:"isAddress",value:function(e){return We.isAddress(e)}},{key:"signTransaction",value:function(){var t=Object(je.a)(we.a.mark(function t(a,n,r){var s,i,c,l;return we.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=e.getChainID(),i=e.unsignedTransaction(a,n),c=Pe.a.TxSigner.signAndSerializeTx(s,i,r),!(l=(l=c.toString("hex")).substring(2))){t.next=9;break}return t.abrupt("return",l);case 9:throw new Error("Failed to sign transaction.");case 10:case"end":return t.stop()}},t)}));return function(e,a,n){return t.apply(this,arguments)}}()},{key:"prepareTxPayload",value:function(t){var a=e.getChainID(),n=He.a.encode(Le.a.fromString(a)),r=He.a.encode(Le.a.fromNumber(t.getType())),s=He.a.encode(t.rlpInput());return(n+r.slice(2)+s.slice(2)).toString("hex")}}]),e}(),Me="https://api-wallet.thetatoken.org/",Re={Accept:"application/json","Content-Type":"application/json"};function De(e){var t=e.status;return 200===t||201===t||202===t||204===t}function Ke(e,t){return Me+e+function(e){if(!e)return"";var t=Object.keys(e).map(function(t){if(e[t])return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&");return t.length>0?"?"+t:""}(t)}function Ve(e,t,a,n,r){var s=Ke(e,n),i={method:t,headers:function(e){return Object.assign(Re,e)}(a)};return r&&(i.body=JSON.stringify(r)),fetch(s,i)}function Ge(e,t,a){return Ve(e,"GET",t,a)}var ze=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"fetchWallet",value:function(e,t){return Ge("/wallet/".concat(e),null,t)}},{key:"createTransaction",value:function(e,t){return function(e,t,a,n){return Ve(e,"POST",t,a,n)}("/tx",null,t,e)}},{key:"fetchTransaction",value:function(e,t){return Ge("/tx/".concat(e),null,t)}},{key:"fetchTransactions",value:function(e,t){return Ge("/tx/".concat(e,"/list"),null,t)}},{key:"fetchSequence",value:function(e,t){return Ge("/sequence/".concat(e),null,t)}}]),e}(),Ye=a(84),Xe=a.n(Ye),Je=new Se.a("https://mainnet.infura.io/v3/40980e2189924c8abfc5f60dd2e5dc4b"),qe=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"signTransaction",value:function(){var e=Object(je.a)(we.a.mark(function e(t,a){var n,r,s,i,c,l,o;return we.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("=============== sequence: ",a),n=Ue.unsignedTransaction(t,a),r=Ue.prepareTxPayload(n),s={path:dt.getWalletPath(),transaction:{nonce:Je.utils.toHex("0"),gasPrice:Je.utils.toHex("0"),gasLimit:Je.utils.toHex("0"),to:"0000000000000000000000000000000000000000",value:Je.utils.toHex("0"),data:r}},e.next=6,Xe.a.ethereumSignTransaction(s);case 6:if(!(i=e.sent).payload.error){e.next=9;break}throw i.payload.error;case 9:if(c=i.payload.r+i.payload.s.slice(2)+(parseInt(i.payload.v,16)-27).toString().padStart(2,"0"),console.log("================ signature: ",c),n.setSignature(c),console.log("=============== signedTx: ",n),l=Pe.a.TxSigner.serializeTx(n),o=(o=l.toString("hex")).substring(2),console.log("================ signedTxRaw: ",o),!o){e.next=21;break}return e.abrupt("return",o);case 21:throw new Error("Failed to sign transaction.");case 22:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()}]),e}(),Ze=a(109),Qe=a.n(Ze),$e=a(110),et=a.n($e),tt=a(155),at=a.n(tt),nt=new Se.a("https://mainnet.infura.io/v3/40980e2189924c8abfc5f60dd2e5dc4b"),rt=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"signTransaction",value:function(){var e=Object(je.a)(we.a.mark(function e(t,a){var n,r,s,i,c,l,o,u,d,h,p;return we.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ue.unsignedTransaction(t,a),r=Ue.prepareTxPayload(n),s={nonce:nt.utils.toHex(0),gasPrice:nt.utils.toHex(0),gasLimit:nt.utils.toHex(0),to:"0x0000000000000000000000000000000000000000",value:nt.utils.toHex(0),data:r},(i=new at.a(s).serialize())[1]-=3,i=i.slice(0,i.length-3),c=i.toString("hex"),e.next=9,Qe.a.create();case 9:return l=e.sent,o=new et.a(l),e.next=13,o.signTransaction(dt.getWalletPath(),c);case 13:if(u=e.sent,d="0x"+u.r+u.s+(parseInt(u.v,16)-27).toString().padStart(2,"0"),n.setSignature(d),h=Pe.a.TxSigner.serializeTx(n),!(p=(p=h.toString("hex")).substring(2))){e.next=23;break}return e.abrupt("return",p);case 23:throw new Error("Failed to sign transaction.");case 24:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()}]),e}(),st=a(601),it="m/44'/60'/0'/0/",ct="keystore-file",lt="mnemonic-phrase",ot="cold-wallet",ut="private-key",dt=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"setWallet",value:function(t){this._wallet=t,null===t&&e.setKeystore(null)}},{key:"getWallet",value:function(){return this._wallet}},{key:"setKeystore",value:function(e){this._keystore=e}},{key:"getKeystore",value:function(){return this._keystore}},{key:"getWalletAddress",value:function(){return se.a.get(this._wallet,["address"],null)}},{key:"getWalletPath",value:function(){return se.a.get(this._wallet,["path"],null)}},{key:"getWalletHardware",value:function(){return se.a.get(this._wallet,["hardware"],null)}},{key:"unlocked",value:function(){return null!==this._wallet}},{key:"encryptToKeystore",value:function(e,t){return We.getWeb3().eth.accounts.encrypt(e,t)}},{key:"decryptFromKeystore",value:function(e,t){return We.getWeb3().eth.accounts.decrypt(e,t)}},{key:"walletFromMnemonic",value:function(e){return _e.ethers.Wallet.fromMnemonic(e,"m/44'/500'/0'/0/0")}},{key:"walletFromPrivateKey",value:function(e){return We.getWeb3().eth.accounts.privateKeyToAccount(e)}},{key:"walletFromTrezor",value:function(){var e=Object(je.a)(we.a.mark(function e(t){var a,n,r;return we.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(Xe.a.manifest({email:"support@thetatoken.org",appUrl:"https://wallet.thetatoken.org",keepSession:!0}),a=[],n=0;n<30;n++)a.push({path:"m/44'/60'/0'/0/"+(5*t+n),showOnTrezor:!1});return e.next=5,Xe.a.ethereumGetAddress({bundle:a,keepSession:!0});case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"walletFromLedger",value:function(){var e=Object(je.a)(we.a.mark(function e(t,a){var n,r,s,i,c,l;return we.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe.a.create();case 2:n=e.sent,r=new et.a(n),s=[],i=0;case 6:if(!(i<5)){e.next=16;break}return c="",a===it?c=it+(5*t+i):"m/44'/60'/0'/"===a?c="m/44'/60'/0'/"+(5*t+i):"m/44'/60'/"===a&&(c="m/44'/60'/"+(5*t+i)+"'/0/0"),e.next=11,r.getAddress(c,!1);case 11:l=e.sent,s.push({address:l.address,serializedPath:c});case 13:i++,e.next=6;break;case 16:return e.abrupt("return",s);case 17:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"createWallet",value:function(e){var t=_e.ethers.utils.HDNode.entropyToMnemonic(_e.ethers.utils.randomBytes(16)),a=this.walletFromMnemonic(t);return{wallet:a,keystore:this.encryptToKeystore(a.privateKey,e)}}},{key:"getHardwareWalletAddresses",value:function(){var t=Object(je.a)(we.a.mark(function t(a,n,r){var s,i,c;return we.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=null,t.prev=1,"trezor"!==a){t.next=9;break}return t.next=5,e.walletFromTrezor(n);case 5:i=t.sent,s=i.payload,t.next=13;break;case 9:if("ledger"!==a){t.next=13;break}return t.next=12,e.walletFromLedger(n,r);case 12:s=t.sent;case 13:return t.abrupt("return",s);case 16:throw t.prev=16,t.t0=t.catch(1),c=null,"trezor"===a?c="No Trezor device attached.":"ledger"===a&&(c="No Ledger device attached."),new Error(c);case 21:case"end":return t.stop()}},t,null,[[1,16]])}));return function(e,a,n){return t.apply(this,arguments)}}()},{key:"unlockWallet",value:function(){var t=Object(je.a)(we.a.mark(function t(a,n,r){var s,i,c,l,o,u,d,h,p;return we.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=null,i=r.keystore,c=r.mnemonic,l=r.privateKey,o=r.hardware,u=r.address,d=r.path,t.prev=2,a!==ct){t.next=8;break}("string"===typeof i||i instanceof String)&&(i=JSON.parse(i)),s=e.decryptFromKeystore(i,n),t.next=24;break;case 8:if(a!==lt){t.next=14;break}c=c.toString(),c=se.a.trim(c),s=e.walletFromMnemonic(c.toString()),t.next=24;break;case 14:if(a!==ut){t.next=23;break}if(!1===(l=se.a.trim(l)).startsWith("0x")&&(l="0x"+l),h=st.toBuffer(l),st.isValidPrivate(h)){t.next=20;break}throw new Error("Private key does not satisfy the curve requirements (ie. it is invalid)");case 20:s=e.walletFromPrivateKey(l),t.next=24;break;case 23:a===ot&&((s={}).address=u);case 24:return s&&(e.setWallet({address:s.address,path:d,hardware:o}),a===ot||null!==i&&void 0!==i||(i=e.encryptToKeystore(s.privateKey,n)),e.setKeystore(i)),t.abrupt("return",s);case 28:throw t.prev=28,t.t0=t.catch(2),p=null,a===ct?p="Wrong password OR invalid keystore.":a===lt?p="No wallet found for this mnemonic phrase.":a===ut&&(p="No wallet found for this private key."),new Error(p);case 33:case"end":return t.stop()}},t,null,[[2,28]])}));return function(e,a,n){return t.apply(this,arguments)}}()},{key:"getThetaTxSequence",value:function(){var e=Object(je.a)(we.a.mark(function e(t,a){var n,r,s;return we.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze.fetchSequence(t,{network:a});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,s=parseInt(r.sequence)+1,e.abrupt("return",s);case 8:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"signTransaction",value:function(){var t=Object(je.a)(we.a.mark(function t(a,n,r){var s,i,c,l,o,u,d;return we.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=e.getWalletAddress(),"trezor"!==(i=e.getWalletHardware())){t.next=9;break}return t.next=5,e.getThetaTxSequence(s,a);case 5:return c=t.sent,t.abrupt("return",qe.signTransaction(n,c));case 9:if("ledger"!==i){t.next=16;break}return t.next=12,e.getThetaTxSequence(s,a);case 12:return l=t.sent,t.abrupt("return",rt.signTransaction(n,l));case 16:if(o=e.getKeystore(),!(u=e.decryptFromKeystore(o,r))){t.next=30;break}if(!ue(a)){t.next=23;break}return t.abrupt("return",We.signTransaction(n,u.privateKey));case 23:if(!de(a)){t.next=28;break}return t.next=26,e.getThetaTxSequence(s,a);case 26:return d=t.sent,t.abrupt("return",Ue.signTransaction(n,d,u.privateKey));case 28:t.next=31;break;case 30:throw new Error("Wrong password.  Your transaction could not be signed.");case 31:case"end":return t.stop()}},t)}));return function(e,a,n){return t.apply(this,arguments)}}()},{key:"exportKeystore",value:function(t,a){var n=e.getKeystore(),r=e.decryptFromKeystore(n,t);if(r)return e.encryptToKeystore(r.privateKey,a);throw new Error("Wrong password.  Your keystore could not be exported.")}}]),e}();function ht(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=n.onSuccess,s=n.onError;return function(){var n=Object(je.a)(we.a.mark(function n(i,c){var l,o;return we.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i({type:"".concat(e,"/START"),metadata:a}),n.next=3,t();case 3:if(!(l=n.sent)){n.next=9;break}return n.next=7,l.json();case 7:o=n.sent,l={status:l.status,body:o};case 9:De(l)?(i({type:"".concat(e,"/SUCCESS"),response:l,metadata:a}),r&&r(i,l)):(i({type:"".concat(e,"/FAILURE"),response:null,metadata:a}),s&&s(i,l)),i({type:"".concat(e,"/END"),metadata:a});case 11:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()}dt._wallet=null,dt._keystore=null;var pt=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"getWalletData",value:function(){return this._walletData}},{key:"setWalletData",value:function(e){this._walletData=e}}]),e}();pt._walletData=null;var mt=a(268),ft=a.n(mt);function vt(e){return{type:ve,modal:e}}function bt(){return{type:be}}var yt=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"getRef",value:function(){return this._reactAlertRef}},{key:"_show",value:function(t,a){(0,e.getRef().current[t])(a)}},{key:"showInfo",value:function(e){this._show("info",e)}},{key:"showSuccess",value:function(e){this._show("success",e)}},{key:"showError",value:function(e){this._show("error",e)}}]),e}();function gt(e,t){return ht(te,function(){return ze.fetchTransaction(t,{network:e})},{network:e})}function Et(){return(Et=Object(je.a)(we.a.mark(function e(t,a,n,r){var s,i,c;return we.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Q,metadata:s={network:a,txData:n}}),e.next=4,ft.a.set(1e3);case 4:return e.prev=4,e.next=7,dt.signTransaction(a,n,r);case 7:if(!(i=e.sent)){e.next=12;break}return c=ht(Z,function(){return ze.createTransaction({data:i},{network:a})},s,{onSuccess:function(e,t){yt.showSuccess("Your transaction is now being processed."),e({type:ye})},onError:function(e,t){yt.showError(t.body.message)}}),e.abrupt("return",Promise.resolve(c));case 12:e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(4),t({type:$}),yt.showError(e.t0.message),e.abrupt("return",Promise.resolve(null));case 19:case"end":return e.stop()}},e,null,[[4,14]])}))).apply(this,arguments)}function kt(e,t,a){return function(n,r){(function(e,t,a,n){return Et.apply(this,arguments)})(n,e,t,a).then(function(e){e&&n(e)})}}yt._reactAlertRef=r.a.createRef();var Tt=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"setHistory",value:function(e){this._history=e}},{key:"push",value:function(e){return this._history.push(e)}}]),e}();Tt._history=null;var Ot={RECEIVE:"receive",SEND:"send",SEND_CONFIRMATION:"send-confirmation",PRIVATE_KEY:"private-key",COLD_WALLET_SELECTOR:"cold-wallet-selector"};function Ct(){var e=dt.getWalletAddress();return ht(k,function(){return ze.fetchWallet(e,{network:he.ETHEREUM})})}function wt(e,t,a){return function(){var n=Object(je.a)(we.a.mark(function n(r,s){var i;return we.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=null,n.prev=1,n.next=4,dt.unlockWallet(e,t,a);case 4:i=n.sent,n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),yt.showError(n.t0.message);case 10:i&&(r((s=i.address,{type:S,address:s})),H()?Tt.push("/wallet"):Tt.push("/offline"));case 11:case"end":return n.stop()}var s},n,null,[[1,7]])}));return function(e,t){return n.apply(this,arguments)}}()}var jt=a(40),_t=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).logout=e.logout.bind(Object(Oe.a)(Object(Oe.a)(e))),e.copyAddress=e.copyAddress.bind(Object(Oe.a)(Object(Oe.a)(e))),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"logout",value:function(){Te.dispatch(function(){var e=Object(je.a)(we.a.mark(function e(t,a){return we.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:dt.setWallet(null),pt.setWalletData(null),t({type:A}),t({type:ne}),Tt.push("/unlock");case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())}},{key:"copyAddress",value:function(){B(dt.getWalletAddress()),yt.showSuccess("Your address has been copied")}},{key:"renderAccountIfNeeded",value:function(){var e=dt.getWalletAddress();return e?r.a.createElement("div",{className:"NavBar__account"},r.a.createElement("div",{className:"NavBar__wallet"},r.a.createElement("div",{className:"NavBar__wallet-title"},"My Wallet:"),r.a.createElement("div",{className:"NavBar__wallet-address"},e),r.a.createElement("a",{className:"NavBar__wallet-copy-address-icon",onClick:this.copyAddress},r.a.createElement("img",{src:"/img/icons/copy@2x.png"}))),r.a.createElement("a",{className:"NavBar__logout",onClick:this.logout},"Log out")):null}},{key:"render",value:function(){return r.a.createElement("div",{className:jt("NavBar",{"NavBar--is-centered":this.props.centered})},r.a.createElement("img",{className:"NavBar__logo",src:"/img/logo/theta_wallet_logo@2x.png"}),this.renderAccountIfNeeded())}}]),t}(r.a.Component),Nt=(a(602),a(40)),St=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t=Nt("TabBar",(e={},Object(x.a)(e,this.props.className,!0),Object(x.a)(e,"TabBar--is-centered",this.props.centered),Object(x.a)(e,"TabBar--is-condensed",this.props.condensed),e));return r.a.createElement("div",{className:t},this.props.children)}}]),t}(r.a.Component),At=(a(603),a(685)),xt=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.href?r.a.createElement(At.a,{to:this.props.href,className:"TabBarItem",activeClassName:"TabBarItem--is-active",onClick:this.props.onClick},this.props.normalIconUrl&&r.a.createElement("img",{className:"TabBarItem__icon",alt:this.props.title,src:this.props.normalIconUrl}),this.props.activeIconUrl&&r.a.createElement("img",{className:"TabBarItem__icon-active",alt:this.props.title,src:this.props.activeIconUrl}),r.a.createElement("div",{className:"TabBarItem__title"},this.props.title)):r.a.createElement("a",{className:"TabBarItem",href:this.props.href,target:this.props.target,onClick:this.props.onClick},r.a.createElement("img",{className:"TabBarItem__icon",alt:this.props.title,src:this.props.normalIconUrl}),r.a.createElement("div",{className:"TabBarItem__title"},this.props.title))}}]),t}(r.a.Component),Wt=(a(605),a(606),a(607),a(608),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.tokenBalance||"0";return e=new pe.BigNumber(e).toString(),r.a.createElement(At.a,{to:this.props.token.href,className:"WalletTokenListItem",activeClassName:"WalletTokenListItem--is-active"},r.a.createElement("div",{className:"WalletTokenListItem__token-container"},r.a.createElement("div",{className:"WalletTokenListItem__active-indicator"}),r.a.createElement("img",{src:this.props.token.iconUrl,className:"WalletTokenListItem__token-icon"}),r.a.createElement("div",{className:"WalletTokenListItem__token-balance-container"},r.a.createElement("div",{className:"WalletTokenListItem__token-name"},this.props.token.name),r.a.createElement("div",{className:"WalletTokenListItem__token-balance"},e))))}}]),t}(r.a.Component)),Pt=[{type:le.THETA,name:ce(le.THETA),iconUrl:"/img/tokens/".concat(le.THETA,"_large@2x.png"),href:"/wallet/tokens/"+le.THETA},{type:le.THETA_FUEL,name:ce(le.THETA_FUEL),iconUrl:"/img/tokens/".concat(le.THETA_FUEL,"_large@2x.png"),href:"/wallet/tokens/"+le.THETA_FUEL}],It=[{type:le.ERC20_THETA,name:ce(le.ERC20_THETA),iconUrl:"/img/tokens/".concat(le.ERC20_THETA,"_large@2x.png"),href:"/wallet/tokens/"+le.ERC20_THETA},{type:le.ETHEREUM,name:ce(le.ETHEREUM),iconUrl:"/img/tokens/".concat(le.ETHEREUM,"_large@2x.png"),href:"/wallet/tokens/"+le.ETHEREUM}],Bt=Ie.isThetaNetworkLive?Pt:It,Ht=Ie.isThetaNetworkLive?Pt.concat(It):It,Ft=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={showEthereumTokens:!1},e.toggleEthereumTokens=e.toggleEthereumTokens.bind(Object(Oe.a)(Object(Oe.a)(e))),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"toggleEthereumTokens",value:function(){this.setState({showEthereumTokens:!this.state.showEthereumTokens})}},{key:"render",value:function(){var e=this.state.showEthereumTokens?Ht:Bt,t=this.props.balancesByType,a=e.map(function(e){var a=t[e.type];return r.a.createElement(Wt,{token:e,tokenBalance:a,key:e.type})});return r.a.createElement("div",{className:"WalletTokenList"},a,Ie.isThetaNetworkLive&&r.a.createElement("a",{className:"WalletTokenList__ethereum-balances-toggle",onClick:this.toggleEthereumTokens},this.state.showEthereumTokens?"Hide Ethereum Tokens":"Show Ethereum Tokens"),this.state.showEthereumTokens&&r.a.createElement("div",{className:"WalletTokenList__ethereum-balances-warning"},"Ethereum token support will be removed in a future version of this wallet."))}}]),t}(r.a.Component),Lt=(a(609),a(40)),Ut=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t=Lt("PageHeader",(e={},Object(x.a)(e,this.props.className,!0),Object(x.a)(e,"PageHeader--is-sticky",this.props.sticky),e));return r.a.createElement("div",{className:t},r.a.createElement("div",{className:"PageHeader__title"},this.props.title),this.props.children)}}]),t}(r.a.Component),Mt=(a(610),a(611),a(113)),Rt=a.n(Mt),Dt=(a(612),a(40)),Kt=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.bound,a=e.isLocal,n="inbound"===t,s=null;s=n?"Received":a?"Sent - Processing":"Sent";var i=Dt("TransactionStatus",{"TransactionStatus--is-inbound":n});return r.a.createElement("div",{className:i},r.a.createElement("div",{className:"TransactionStatus__dot"}),r.a.createElement("div",{className:"TransactionStatus__text"},s))}}]),t}(r.a.PureComponent),Vt=(a(613),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"ERC20Badge"},r.a.createElement("div",{className:"ERC20Badge__text"},"ERC-20"))}}]),t}(r.a.PureComponent)),Gt=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.transaction,t=e.from,a=e.to,n=e.token_symbol,s=e.dec_value,i=e.type,c=e.time_stamp,l=e.bound,o=e.is_local,u="inbound"===l,d="/img/tokens/".concat(i,"_small@2x.png"),h="https://etherscan.io/tx/".concat(e.hash);return t=F(t,23,"..."),a=F(a,23,"..."),r.a.createElement("a",{className:"EthereumTransactionListItem",href:h,target:"_blank"},r.a.createElement("div",{className:"EthereumTransactionListItem__top-container"},r.a.createElement(Kt,{bound:l,isLocal:o}),"erc20"===i&&r.a.createElement(Vt,null)),r.a.createElement("div",{className:"EthereumTransactionListItem__middle-container"},r.a.createElement("div",{className:"EthereumTransactionListItem__address-container"},r.a.createElement("div",{className:"EthereumTransactionListItem__address-prefix"},u?"FROM:":"TO:"),r.a.createElement("div",{className:"EthereumTransactionListItem__address"},u?t:a)),r.a.createElement("div",{className:"EthereumTransactionListItem__amount-container"},r.a.createElement("div",{className:"EthereumTransactionListItem__amount"},s))),r.a.createElement("div",{className:"EthereumTransactionListItem__bottom-container"},r.a.createElement("div",{className:"EthereumTransactionListItem__date"},Rt.a.unix(c).fromNow()),r.a.createElement("div",{className:"EthereumTransactionListItem__token-container"},r.a.createElement("div",{className:"EthereumTransactionListItem__token-symbol"},n),d&&r.a.createElement("img",{src:d,className:"EthereumTransactionListItem__token-icon"}))))}}]),t}(r.a.Component),zt=(a(614),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.transaction,t=e.inputs,a=e.outputs,n=e.timestamp,s=e.bound,i=e.hash,c=e.is_local,l=t?t[0]:null,o=a?a[0]:null,u=se.a.get(l,["address"]),d=se.a.get(o,["address"]),h="inbound"===s,p="https://explorer.thetatoken.org/txs/".concat(i);u=F(u,23,"..."),d=F(d,23,"...");var m=se.a.get(o,["coins","theta"]),f=se.a.get(o,["coins","tfuel"]);return r.a.createElement("a",{className:"ThetaTransactionListItem",href:p,target:"_blank"},r.a.createElement("div",{className:"ThetaTransactionListItem__left-container"},r.a.createElement("div",{className:"ThetaTransactionListItem__top-container"},r.a.createElement(Kt,{bound:s,isLocal:c})),r.a.createElement("div",{className:"ThetaTransactionListItem__middle-container"},r.a.createElement("div",{className:"ThetaTransactionListItem__address-container"},r.a.createElement("div",{className:"ThetaTransactionListItem__address-prefix"},h?"FROM:":"TO:"),r.a.createElement("div",{className:"ThetaTransactionListItem__address"},h?u:d))),r.a.createElement("div",{className:"ThetaTransactionListItem__bottom-container"},r.a.createElement("div",{className:"ThetaTransactionListItem__date"},Rt.a.unix(n).fromNow()))),r.a.createElement("div",{className:"ThetaTransactionListItem__right-container"},r.a.createElement("div",{className:"ThetaTransactionListItem__amount-container"},r.a.createElement("div",{className:"ThetaTransactionListItem__amount"},m),r.a.createElement("img",{className:"ThetaTransactionListItem__amount-icon",src:"/img/tokens/theta_large@2x.png"})),r.a.createElement("div",{className:"ThetaTransactionListItem__amount-container"},r.a.createElement("div",{className:"ThetaTransactionListItem__amount"},f),r.a.createElement("img",{className:"ThetaTransactionListItem__amount-icon",src:"/img/tokens/tfuel_large@2x.png"}))))}}]),t}(r.a.Component)),Yt=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"createList",value:function(){return this.props.transactions.map(function(e,t){return e.timestamp?r.a.createElement(zt,{key:e.hash,transaction:e}):r.a.createElement(Gt,{key:e.hash,transaction:e})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"TransactionList"},this.createList())}}]),t}(r.a.Component),Xt=a(115),Jt=function(e){return e.transactions.localTransactionsByHash},qt=function(e){return e.transactions.ethereumNetworkTransactionsByType},Zt=function(e){return dt.getWalletAddress()};function Qt(e,t){var a=t.outputs;a=function(e,t){return se.a.sortBy(t,[function(t){return t.address===e?-1:0}])}(e,a);var n;return se.a.isNil(a)?null:(n=a[0].address,Object.assign({},t,{bound:e===n?"inbound":"outbound",outputs:a}))}function $t(e,t){return Object.assign({},t,{bound:e===t.to?"inbound":"outbound"})}function ea(e,t,a,n){e=e?e.toLowerCase():null;var r=a[t],s=se.a.partial($t,e),i=se()(r).sortBy(function(e){return parseInt(e.time_stamp)}).reverse().map(s).value(),c=new Set(se.a.map(i,function(e){return e.hash})),l=se.a.filter(Object.values(n),function(e){return!c.has(e.hash)&&e.type===t}),o=se.a.flatten([l,i]);return se.a.uniqBy(o,"hash")}var ta,aa=Object(Xt.a)([Zt,qt,Jt],function(e,t,a){return ea(e,le.ERC20_THETA,t,a)}),na=Object(Xt.a)([Zt,qt,Jt],function(e,t,a){return ea(e,le.ETHEREUM,t,a)}),ra=Object(Xt.a)([Zt,function(e){return e.transactions.transactions},Jt],function(e,t,a){return function(e,t,a){e=e?e.toLowerCase():null;var n=se.a.negate(se.a.isNil),r=se.a.partial(Qt,e),s=se()(t).map(r).filter(n).sortBy(function(e){return parseInt(e.timestamp)}).reverse().value(),i=new Set(se.a.map(s,function(e){return e.hash})),c=se.a.filter(Object.values(a),function(e){return!i.has(e.hash)}),l=se.a.flatten([c,s]);return se.a.uniqBy(l,"hash")}(e,t,a)}),sa=(a(615),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"EmptyState"},this.props.icon&&r.a.createElement("img",{className:"EmptyState__icon",src:this.props.icon}),r.a.createElement("div",{className:"EmptyState__title"},this.props.title))}}]),t}(r.a.PureComponent)),ia=a(71),ca=a.n(ia),la=(a(650),a(40)),oa=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t=this.props.iconUrl&&r.a.createElement("img",{className:"GhostButton__icon",src:this.props.iconUrl}),a=la("GhostButton",(e={},Object(x.a)(e,this.props.className,!0),Object(x.a)(e,"GhostButton--is-disabled",this.props.disabled),e));return r.a.createElement("a",{className:a,href:this.props.href,target:this.props.target,onClick:this.props.onClick,style:this.props.style},t,r.a.createElement("div",{className:"GhostButton__title"},this.props.title))}}]),t}(r.a.Component),ua=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).pollWalletBalancesIntervalId=null,e.fetchBalances=e.fetchBalances.bind(Object(Oe.a)(Object(Oe.a)(e))),e.handleSendClick=e.handleSendClick.bind(Object(Oe.a)(Object(Oe.a)(e))),e.handleReceiveClick=e.handleReceiveClick.bind(Object(Oe.a)(Object(Oe.a)(e))),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"fetchTransactions",value:function(e){e===le.ERC20_THETA?this.props.dispatch(function(){var e=dt.getWalletAddress();return ht(K,function(){return ze.fetchTransactions(e,{type:le.ERC20_THETA})})}()):e===le.ETHEREUM?this.props.dispatch(function(){var e=dt.getWalletAddress();return ht(U,function(){return ze.fetchTransactions(e,{type:le.ETHEREUM})})}()):e!==le.THETA&&e!==le.THETA_FUEL||this.props.dispatch(function(){var e=dt.getWalletAddress();return ht(Y,function(){return ze.fetchTransactions(e,{network:Ie.thetaNetwork})})}())}},{key:"fetchBalances",value:function(){Ie.isThetaNetworkLive?(this.props.dispatch(function(){var e=dt.getWalletAddress();return ht(w,function(){return ze.fetchWallet(e,{network:Ie.thetaNetwork})})}()),this.props.dispatch(Ct())):this.props.dispatch(Ct())}},{key:"startPollingWalletBalances",value:function(){this.fetchBalances(),this.pollWalletBalancesIntervalId=setInterval(this.fetchBalances,15e3)}},{key:"stopPollingWalletBalances",value:function(){this.pollWalletBalancesIntervalId&&clearInterval(this.pollWalletBalancesIntervalId)}},{key:"handleSendClick",value:function(){this.props.dispatch(vt({type:Ot.SEND,props:{tokenType:this.props.match.params.tokenType}}))}},{key:"handleReceiveClick",value:function(){this.props.dispatch(vt({type:Ot.RECEIVE}))}},{key:"componentDidMount",value:function(){var e=this.props.match.params.tokenType;this.startPollingWalletBalances(),this.fetchTransactions(e)}},{key:"componentWillUnmount",value:function(){this.stopPollingWalletBalances()}},{key:"componentWillReceiveProps",value:function(e){var t=e.match.params.tokenType;this.props.match.params.tokenType!==t&&this.fetchTransactions(t)}},{key:"render",value:function(){return r.a.createElement("div",{className:"WalletPage"},r.a.createElement("div",{className:"WalletPage__master-view"},r.a.createElement(Ft,{balancesByType:this.props.balancesByType})),r.a.createElement("div",{className:"WalletPage__detail-view"},r.a.createElement(Ut,{title:"Transactions",sticky:!0},r.a.createElement("div",{className:"WalletPage__header-buttons"},r.a.createElement(oa,{title:"Send",iconUrl:"/img/icons/send@2x.png",onClick:this.handleSendClick}),r.a.createElement(oa,{title:"Receive",iconUrl:"/img/icons/receive@2x.png",style:{marginLeft:12},onClick:this.handleReceiveClick}))),this.props.isLoadingTransactions&&r.a.createElement(ca.a,{singleColor:"#ffffff",className:"WalletPage__detail-view-spinner"}),this.props.transactions.length>0&&r.a.createElement(Yt,{transactions:this.props.transactions}),0===this.props.transactions.length&&!1===this.props.isLoadingTransactions&&r.a.createElement(sa,{icon:"/img/icons/empty-transactions@2x.png",title:"No Transactions"})))}}]),t}(r.a.Component),da=Object(v.b)(function(e,t){var a=t.match.params.tokenType,n=e.transactions.localTransactionsByHash||{},r=[],s=!1;return a===le.ERC20_THETA?(r=aa(e),s=e.transactions.isFetchingERC20Transactions):a===le.ETHEREUM?(r=na(e),s=e.transactions.isFetchingEthereumTransactions):a!==le.THETA&&a!==le.THETA_FUEL||(r=ra(e),s=e.transactions.isFetchingTransactions),{balancesByType:Object.assign({},e.wallet.balancesByType,e.wallet.ethereumBalancesByType),localTransactionsAmount:Object.keys(n).length,transactions:r,isLoadingTransactions:s}})(ua),ha=(a(651),a(652),a(157)),pa=a(40),ma=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t=null,a=pa("GradientButton",(e={},Object(x.a)(e,this.props.className,!0),Object(x.a)(e,"GradientButton--is-disabled",this.props.disabled),e));return t=this.props.loading?r.a.createElement(ca.a,{singleColor:"#ffffff"}):r.a.createElement("div",{className:"GradientButton__title"},this.props.title),this.props.href?r.a.createElement(ha.a,{to:this.props.href,style:this.props.style,className:a,onClick:this.props.onClick},t):r.a.createElement("a",{className:a,style:this.props.style,onClick:this.props.onClick},t)}}]),t}(r.a.Component),fa=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).defaultState={currentPassword:"",password:"",passwordConfirmation:"",loading:!1,error:null},e.state=e.defaultState,e.handleChange=e.handleChange.bind(Object(Oe.a)(Object(Oe.a)(e))),e.prepareForExport=e.prepareForExport.bind(Object(Oe.a)(Object(Oe.a)(e))),e.exportKeystore=e.exportKeystore.bind(Object(Oe.a)(Object(Oe.a)(e))),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"validate",value:function(){this.state.password.length>0&&this.state.passwordConfirmation.length>0&&this.state.password!==this.state.passwordConfirmation?this.setState({error:"Your passwords do not match"}):this.setState({error:""})}},{key:"isValid",value:function(){return this.state.password.length>0&&this.state.passwordConfirmation.length>0&&this.state.password===this.state.passwordConfirmation}},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(x.a)({},t,a),this.validate)}},{key:"exportKeystore",value:function(){try{var e=dt.exportKeystore(this.state.currentPassword,this.state.password);I(e.address+".keystore",JSON.stringify(e)),this.setState(this.defaultState)}catch(t){this.setState({loading:!1}),yt.showError(t.message)}}},{key:"prepareForExport",value:function(){this.setState({loading:!0}),setTimeout(this.exportKeystore,1e3)}},{key:"render",value:function(){return r.a.createElement("div",{className:"ExportKeystoreContent"},r.a.createElement("div",{className:"InputTitle"},"Current Password"),r.a.createElement("input",{className:"RoundedInput",placeholder:"Enter current password",name:"currentPassword",type:"password",value:this.state.currentPassword,onChange:this.handleChange}),r.a.createElement("div",{className:"InputTitle"},"New Password"),r.a.createElement("input",{className:"RoundedInput",placeholder:"Set a New Password",name:"password",type:"password",value:this.state.password,onChange:this.handleChange}),r.a.createElement("div",{className:"InputTitle"},"Confirm New Password"),r.a.createElement("input",{className:"RoundedInput",placeholder:"Re-enter Password",name:"passwordConfirmation",type:"password",value:this.state.passwordConfirmation,onChange:this.handleChange}),r.a.createElement("div",{className:"InputError"},this.state.error),r.a.createElement(ma,{title:"Export Keystore",onClick:this.prepareForExport,style:{marginTop:15},loading:this.state.loading,disabled:this.state.loading||!1===this.isValid()}))}}]),t}(r.a.Component),va=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"SettingsSection"},r.a.createElement("div",{className:"SettingsSection__title"},this.props.title),r.a.createElement("div",{className:"SettingsSection__content"},this.props.children))}}]),t}(r.a.Component),ba=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=se.a.isNil(dt.getWallet().hardware);return r.a.createElement("div",{className:"SettingsPage"},r.a.createElement("div",{className:"SettingsPage__detail-view"},r.a.createElement(Ut,{title:"Settings",sticky:!0}),e&&r.a.createElement(va,{title:"Export Keystore"},r.a.createElement(fa,null))))}}]),t}(r.a.Component),ya=(a(653),[{title:"How to swap from ERC20 Theta to Mainnet Theta",description:"This wallet functions as a Theta ERC20 wallet today. When Mainnet launches in March 2019, the wallet will automatically switch to work as a THETA Mainnet wallet."},{title:"Create a Wallet and transfer ERC20 Theta In",description:"Create your wallet and transfer your ERC20 Theta in. You can now use this wallet as a fully functional ERC20 Theta wallet."},{title:"After launch, use the wallet to transact on Mainnet",description:"Once the snapshot is taken of ERC20 Theta and the mainnet is launched, the wallet will have the same balance, but all transactions will be on the Mainnet. No action is needed from you for this swap."}]),ga=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=parseInt(this.props.match.params.onboardingStep),t="/img/onboarding/"+e+"@2x.png",a=ya[e],n=a.title,s=a.description,i=null;return i=e===ya.length-1?r.a.createElement(r.a.Fragment,null,r.a.createElement(ma,{title:"Create Wallet",href:"/create-wallet"}),r.a.createElement(ha.a,{to:"/restore-wallet",className:"OnboardingPage__restore-button"},"Restore Wallet")):r.a.createElement(ma,{title:"Next",href:"/onboarding/"+(e+1)}),r.a.createElement("div",{className:"OnboardingPage"},r.a.createElement("div",{className:"OnboardingPage__wrapper"},r.a.createElement("div",{className:"OnboardingPage__title"},n),r.a.createElement("img",{src:t,className:"OnboardingPage__image"}),r.a.createElement("div",{className:"OnboardingPage__description"},s),r.a.createElement("div",{className:"OnboardingPage__footer"},i)))}}]),t}(r.a.Component),Ea=(a(654),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"WalletCreationCompleteCard"},r.a.createElement("div",{className:"WalletCreationCompleteCard__content"},r.a.createElement("div",{className:"WalletCreationCompleteCard__header"}),r.a.createElement("div",{className:"WalletCreationCompleteCard__success"},r.a.createElement("img",{className:"WalletCreationCompleteCard__icon",src:"/img/icons/wallet-success@2x.png"}),r.a.createElement("div",{className:"WalletCreationCompleteCard__success-title"},"You're ready!"),r.a.createElement("div",{className:"WalletCreationCompleteCard__success-body"},"You are now ready to use your new Theta wallet.")),r.a.createElement("div",{className:"WalletCreationCompleteCard__footer"},r.a.createElement(ma,{title:"Unlock Wallet",href:"/unlock"}))))}}]),t}(r.a.Component)),ka=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).showPrivateKey=e.showPrivateKey.bind(Object(Oe.a)(Object(Oe.a)(e))),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"showPrivateKey",value:function(){Te.dispatch(vt({type:Ot.PRIVATE_KEY,props:{privateKey:this.props.wallet.privateKey}}))}},{key:"render",value:function(){var e=this.props.wallet,t=e.mnemonic;e.privateKey;return r.a.createElement("div",{className:"MnemonicCard"},r.a.createElement("div",{className:"MnemonicCard__content"},r.a.createElement("div",{className:"MnemonicCard__header"},r.a.createElement("div",{className:"MnemonicCard__title"},"Mnemonic Phrase"),r.a.createElement("div",{className:"MnemonicWarningCard__subtitle"},"12 words which allow you to recover your wallet.")),r.a.createElement("div",{className:"MnemonicCard__body"},r.a.createElement("div",{className:"MnemonicCard__instructions"},"Back up the text below on paper and keep it somewhere secret and safe. It will not be shown again."),r.a.createElement("div",{className:"MnemonicCard__phrase-container"},r.a.createElement("p",null,t)),r.a.createElement("a",{className:"MnemonicCard__view-private-key",onClick:this.showPrivateKey},"View my Private Key")),r.a.createElement("div",{className:"MnemonicCard__footer"},r.a.createElement(ma,{title:"Continue",onClick:this.props.onContinue}))))}}]),t}(r.a.Component),Ta=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"MnemonicWarningCard"},r.a.createElement("div",{className:"MnemonicWarningCard__content"},r.a.createElement("div",{className:"MnemonicWarningCard__header"},r.a.createElement("div",{className:"MnemonicWarningCard__title"},"Mnemonic Phrase"),r.a.createElement("div",{className:"MnemonicWarningCard__subtitle"},"12 words which allow you to recover your wallet.")),r.a.createElement("img",{className:"MnemonicWarningCard__icon",src:"/img/icons/word-blocks@2x.png"}),r.a.createElement("div",{className:"MnemonicWarningCard__warning"},r.a.createElement("div",{className:"MnemonicWarningCard__warning-title"},"Warning!"),r.a.createElement("div",{className:"MnemonicWarningCard__warning-body"},"We are about to show your Mnemonic phrase. Please ensure no one can see your screen before you continue.")),r.a.createElement("div",{className:"MnemonicWarningCard__footer"},r.a.createElement(ma,{title:"Continue",onClick:this.props.onContinue}))))}}]),t}(r.a.Component),Oa=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={password:"",passwordConfirmation:"",agreedToTerms:!1},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,a="password"===e.target.type?e.target.value:e.target.checked;this.setState(Object(x.a)({},t,a),this.validate)}},{key:"createWallet",value:function(){var e=this,t=dt.createWallet(this.state.password);t&&(pt.setWalletData(t),I(t.wallet.address+".keystore",JSON.stringify(t.keystore)),setTimeout(function(){e.setState({loading:!1}),e.props.onContinue()},500))}},{key:"prepareForWalletCreation",value:function(){var e=this;this.setState({loading:!0}),setTimeout(function(){e.createWallet()},1e3)}},{key:"isValid",value:function(){return!0===this.state.agreedToTerms&&this.state.password.length>0&&this.state.password===this.state.passwordConfirmation}},{key:"validate",value:function(){this.state.password.length>0&&this.state.passwordConfirmation.length>0&&this.state.password!==this.state.passwordConfirmation?this.setState({error:"Your passwords do not match"}):this.setState({error:""})}},{key:"render",value:function(){return r.a.createElement("div",{className:"ChoosePasswordCard"},r.a.createElement("div",{className:"ChoosePasswordCard__content"},r.a.createElement("div",{className:"ChoosePasswordCard__header"},r.a.createElement("div",{className:"ChoosePasswordCard__title"},"Create Keystore"),r.a.createElement("div",{className:"ChoosePasswordCard__subtitle"},"This password will encrypt your private key.")),r.a.createElement("div",{className:"ChoosePasswordCard__inputs"},r.a.createElement("input",{className:"ChoosePasswordCard__password-input",placeholder:"Set a New Password",name:"password",type:"password",value:this.state.password,onChange:this.handleChange.bind(this)}),r.a.createElement("input",{className:"ChoosePasswordCard__password-input",placeholder:"Re-enter Password",name:"passwordConfirmation",type:"password",value:this.state.passwordConfirmation,onChange:this.handleChange.bind(this)})),r.a.createElement("div",{className:"ChoosePasswordCard__error"},this.state.error),r.a.createElement("div",{className:"ChoosePasswordCard__message-wrapper"},r.a.createElement("input",{id:"agreedToTerms",type:"checkbox",name:"agreedToTerms",checked:this.state.agreedToTerms,onChange:this.handleChange.bind(this)}),r.a.createElement("label",{className:"ChoosePasswordCard__message",htmlFor:"agreedToTerms"},r.a.createElement("span",null,"I understand that Theta cannot recover or reset my password or the keystore file. I will make a backup of the keystore file / password, keep them secret, complete all wallet creation steps."))),r.a.createElement("div",{className:"ChoosePasswordCard__footer"},r.a.createElement(ma,{title:"Download Keystore",onClick:this.prepareForWalletCreation.bind(this),loading:this.state.loading,disabled:this.state.loading||!1===this.isValid()}))))}}]),t}(r.a.Component),Ca=0,wa=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={currentStep:Ca},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"continue",value:function(){this.setState({currentStep:this.state.currentStep+1})}},{key:"render",value:function(){var e=pt.getWalletData(),t=null,a=null,n=3===this.state.currentStep?"":"Create New Wallet";return this.state.currentStep===Ca?t=r.a.createElement(Oa,{onContinue:this.continue.bind(this)}):1===this.state.currentStep?t=r.a.createElement(Ta,{onContinue:this.continue.bind(this)}):2===this.state.currentStep?t=r.a.createElement(ka,{onContinue:this.continue.bind(this),wallet:e.wallet}):3===this.state.currentStep&&(t=r.a.createElement(Ea,{onContinue:this.continue.bind(this)})),3!==this.state.currentStep&&(a=r.a.createElement("div",{className:"CreateWalletPage__subtitle"},r.a.createElement("span",null,"Already have a wallet?"),r.a.createElement(ha.a,{to:"/unlock"},"Unlock Wallet"))),r.a.createElement("div",{className:"CreateWalletPage"},r.a.createElement("div",{className:"CreateWalletPage__wrapper"},r.a.createElement("div",{className:"CreateWalletPage__title"},n),t,a))}}]),t}(r.a.Component),ja=(a(655),a(656),a(40)),_a=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t=this.props.iconUrl&&r.a.createElement("img",{className:"HardwareOptionButton__icon",src:this.props.iconUrl}),a=ja("HardwareOptionButton",(e={},Object(x.a)(e,this.props.className,!0),Object(x.a)(e,"HardwareOptionButton--is-selected",this.props.isSelected),Object(x.a)(e,"HardwareOptionButton--is-disabled",this.props.disabled),e));return r.a.createElement("a",{className:a,href:this.props.href,target:this.props.target,onClick:this.props.onClick,style:this.props.style},t,r.a.createElement("div",{className:"HardwareOptionButton__title"},this.props.title))}}]),t}(r.a.Component),Na=(a(657),a(40)),Sa=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={active:!1},e.handleDragOver=e.handleDragOver.bind(Object(Oe.a)(Object(Oe.a)(e))),e.handleDragEnter=e.handleDragEnter.bind(Object(Oe.a)(Object(Oe.a)(e))),e.handleDragLeave=e.handleDragLeave.bind(Object(Oe.a)(Object(Oe.a)(e))),e.handleDrop=e.handleDrop.bind(Object(Oe.a)(Object(Oe.a)(e))),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleDragOver",value:function(e){e.preventDefault(),this.setState({active:!0})}},{key:"handleDragEnter",value:function(e){e.preventDefault(),this.setState({active:!0})}},{key:"handleDragLeave",value:function(e){e.preventDefault(),this.setState({active:!1})}},{key:"handleDrop",value:function(e){e.preventDefault();var t=e.dataTransfer.files;t.length>0&&this.props.onDrop(t[0]),this.setState({active:!1})}},{key:"componentDidMount",value:function(){window.addEventListener("dragenter",this.handleDragEnter),window.addEventListener("dragleave",this.handleDragLeave),window.addEventListener("dragover",this.handleDragOver),window.addEventListener("drop",this.handleDrop)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragenter",this.handleDragEnter),window.removeEventListener("dragleave",this.handleDragLeave),window.removeEventListener("dragover",this.handleDragOver),window.removeEventListener("drop",this.handleDrop)}},{key:"render",value:function(){var e=Na("DropZone",{"DropZone--is-active":this.state.active});return r.a.createElement("div",{className:e},this.props.icon&&r.a.createElement("img",{className:"DropZone__icon",src:this.props.icon}),r.a.createElement("div",{className:"DropZone__title"},this.props.title))}}]),t}(r.a.PureComponent),Aa=a(40),xa=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={privateKey:"",password:"",loading:!1},e.handleKeyPress=e.handleKeyPress.bind(Object(Oe.a)(Object(Oe.a)(e))),e.handleChange=e.handleChange.bind(Object(Oe.a)(Object(Oe.a)(e))),e.handleUnlockClick=e.handleUnlockClick.bind(Object(Oe.a)(Object(Oe.a)(e))),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"isValid",value:function(){return this.state.privateKey.length>0&&this.state.password.length>0}},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(x.a)({},t,a))}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&this.handleUnlockClick()}},{key:"unlockWallet",value:function(){this.props.unlockWallet(ut,this.state.password,{privateKey:this.state.privateKey}),this.setState({loading:!1})}},{key:"prepareForUnlock",value:function(){var e=this;this.setState({loading:!0}),setTimeout(function(){e.unlockWallet()},1500)}},{key:"handleUnlockClick",value:function(){this.isValid()&&this.prepareForUnlock()}},{key:"render",value:function(){var e=this.state.loading||!1===this.isValid();return r.a.createElement("div",{className:"UnlockWalletViaPrivateKey"},r.a.createElement("div",{className:"UnlockWalletViaPrivateKey__title"},"Please enter your private key"),r.a.createElement("textarea",{className:"UnlockWalletViaPrivateKey__private-key",name:"privateKey",value:this.state.privateKey,onChange:this.handleChange}),r.a.createElement("div",{className:"UnlockWalletViaPrivateKey__private-key-instructions"},"Please enter your private key in HEX format."),r.a.createElement("input",{className:"UnlockWalletViaPrivateKey__password-input",placeholder:"Enter temporary session password",name:"password",type:"password",value:this.state.password,ref:this.passwordInput,onChange:this.handleChange,onKeyPress:this.handleKeyPress}),r.a.createElement("div",{className:"UnlockWalletCard__warning"},"Before you enter your private key, we recommend you disconnect your device from the internet. You will be able to reconnect once your wallet is unlocked."),r.a.createElement("div",{className:"UnlockWalletViaPrivateKey__footer"},r.a.createElement(ma,{title:"Unlock Wallet",loading:this.state.loading,onClick:this.handleUnlockClick,disabled:e})))}}]),t}(r.a.Component),Wa=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={mnemonic:"",password:"",loading:!1},e.handleKeyPress=e.handleKeyPress.bind(Object(Oe.a)(Object(Oe.a)(e))),e.handleChange=e.handleChange.bind(Object(Oe.a)(Object(Oe.a)(e))),e.handleUnlockClick=e.handleUnlockClick.bind(Object(Oe.a)(Object(Oe.a)(e))),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"isValid",value:function(){return this.state.mnemonic.length>0&&this.state.password.length>0}},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(x.a)({},t,a))}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&this.handleUnlockClick()}},{key:"unlockWallet",value:function(){this.props.unlockWallet(lt,this.state.password,{mnemonic:this.state.mnemonic}),this.setState({loading:!1})}},{key:"prepareForUnlock",value:function(){var e=this;this.setState({loading:!0}),setTimeout(function(){e.unlockWallet()},1500)}},{key:"handleUnlockClick",value:function(){this.isValid()&&this.prepareForUnlock()}},{key:"render",value:function(){var e=this.state.loading||!1===this.isValid();return r.a.createElement("div",{className:"UnlockWalletViaMnemonicPhrase"},r.a.createElement("div",{className:"UnlockWalletViaMnemonicPhrase__title"},"Please enter your 12 word phrase"),r.a.createElement("textarea",{className:"UnlockWalletViaMnemonicPhrase__mnemonic",name:"mnemonic",value:this.state.mnemonic,onChange:this.handleChange}),r.a.createElement("div",{className:"UnlockWalletViaMnemonicPhrase__mnemonic-instructions"},"Please separate each Mnemonic Phrase with a space."),r.a.createElement("input",{className:"UnlockWalletViaMnemonicPhrase__password-input",placeholder:"Enter temporary session password",name:"password",type:"password",value:this.state.password,ref:this.passwordInput,onChange:this.handleChange,onKeyPress:this.handleKeyPress}),r.a.createElement("div",{className:"UnlockWalletCard__warning"},"Before you enter your mnemonic phrase, we recommend you disconnect your device from the internet. You will be able to reconnect once your wallet is unlocked."),r.a.createElement("div",{className:"UnlockWalletViaMnemonicPhrase__footer"},r.a.createElement(ma,{title:"Unlock Wallet",loading:this.state.loading,onClick:this.handleUnlockClick,disabled:e})))}}]),t}(r.a.Component),Pa=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).fileInput=r.a.createRef(),e.passwordInput=r.a.createRef(),e.droppedFile=null,e.state={password:"",loading:!1},e.handleKeyPress=e.handleKeyPress.bind(Object(Oe.a)(Object(Oe.a)(e))),e.handleChange=e.handleChange.bind(Object(Oe.a)(Object(Oe.a)(e))),e.handleUnlockClick=e.handleUnlockClick.bind(Object(Oe.a)(Object(Oe.a)(e))),e.handleKeystoreFileDrop=e.handleKeystoreFileDrop.bind(Object(Oe.a)(Object(Oe.a)(e))),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"isValid",value:function(){return null!==this.keystoreFile()&&this.state.password.length>0}},{key:"keystoreFile",value:function(){var e=this.fileInput.current,t=e&&e.files.length>0?e.files[0]:null;return this.droppedFile?this.droppedFile:t}},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(x.a)({},t,a)),"file"===t&&(this.droppedFile=null,this.passwordInput.current.focus())}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&this.handleUnlockClick()}},{key:"handleKeystoreFileDrop",value:function(e){var t=this;this.droppedFile=e,this.setState({droppedFile:!0},function(){t.passwordInput.current.focus()})}},{key:"unlockWallet",value:function(e){this.props.unlockWallet(ct,this.state.password,{keystore:e}),this.setState({loading:!1})}},{key:"onKeystoreFileLoad",value:function(e){var t=this,a=e.target.result;setTimeout(function(){t.unlockWallet(a)},1500)}},{key:"prepareForUnlock",value:function(){var e=this.keystoreFile(),t=new FileReader;this.setState({loading:!0}),t.onload=this.onKeystoreFileLoad.bind(this),t.readAsText(e,"UTF-8")}},{key:"handleUnlockClick",value:function(){this.isValid()&&this.prepareForUnlock()}},{key:"render",value:function(){var e=this.keystoreFile(),t=Aa("UnlockWalletViaKeystoreFile__file-input",{"UnlockWalletViaKeystoreFile__file-input--has-file":null!==e}),a=this.state.loading||!1===this.isValid();return r.a.createElement("div",{className:"UnlockWalletViaKeystoreFile"},r.a.createElement(Sa,{title:"Drop keystore here",icon:"/img/icons/theta-file@2x.png",onDrop:this.handleKeystoreFileDrop}),r.a.createElement("div",{className:"UnlockWalletViaKeystoreFile__title"},"Please select your keystore file"),r.a.createElement("label",{htmlFor:"file-upload",className:t},r.a.createElement("input",{id:"file-upload",type:"file",name:"file",ref:this.fileInput,onChange:this.handleChange}),null===e?"Choose Keystore File":"Keystore File Set"),r.a.createElement("input",{className:"UnlockWalletViaKeystoreFile__password-input",placeholder:"Enter your wallet password",name:"password",type:"password",value:this.state.password,ref:this.passwordInput,onChange:this.handleChange,onKeyPress:this.handleKeyPress}),r.a.createElement("div",{className:"UnlockWalletViaKeystoreFile__footer"},r.a.createElement(ma,{title:"Unlock Wallet",loading:this.state.loading,onClick:this.handleUnlockClick,disabled:a})))}}]),t}(r.a.Component),Ia=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={hardware:"",loading:!1,derivationPath:it},e.handleKeyPress=e.handleKeyPress.bind(Object(Oe.a)(Object(Oe.a)(e))),e.handleChange=e.handleChange.bind(Object(Oe.a)(Object(Oe.a)(e))),e.handleChooseHardwareClick=e.handleChooseHardwareClick.bind(Object(Oe.a)(Object(Oe.a)(e))),e.handleTrezorClick=e.handleTrezorClick.bind(Object(Oe.a)(Object(Oe.a)(e))),e.handleLedgerClick=e.handleLedgerClick.bind(Object(Oe.a)(Object(Oe.a)(e))),e.handleDerivationPathChange=e.handleDerivationPathChange.bind(Object(Oe.a)(Object(Oe.a)(e))),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"isValid",value:function(){return this.state.hardware.length>0}},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(x.a)({},t,a))}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&this.handleUnlockClick()}},{key:"chooseHardware",value:function(){this.props.getHardwareWalletAddresses(this.state.hardware,0,this.state.derivationPath),"ledger"===this.state.hardware?setTimeout(function(){this.setState({loading:!1})}.bind(this),6500):this.setState({loading:!1})}},{key:"prepareForChooseHardware",value:function(){var e=this;this.setState({loading:!0}),setTimeout(function(){e.chooseHardware()},1500)}},{key:"handleChooseHardwareClick",value:function(){this.isValid()&&this.prepareForChooseHardware()}},{key:"handleTrezorClick",value:function(){this.setState({hardware:"trezor"})}},{key:"handleLedgerClick",value:function(){this.setState({hardware:"ledger"})}},{key:"handleDerivationPathChange",value:function(e){this.setState({derivationPath:e.target.value})}},{key:"render",value:function(){var e=this.state.loading||!1===this.isValid(),t="";return"trezor"===this.state.hardware?t="Please make sure your Trezor is connected before clicking 'Continue' below.":"ledger"===this.state.hardware&&(t="Please make sure your Ledger is connected with the Ethereum app open before clicking 'Continue' below."),r.a.createElement("div",{className:"UnlockWalletViaColdWallet"},r.a.createElement("div",{className:"UnlockWalletViaColdWallet__title"},"Please choose a wallet type"),r.a.createElement("div",{className:"UnlockWalletViaColdWallet__cold-wallet-hardware-select"},r.a.createElement(_a,{title:"Trezor",iconUrl:"trezor"===this.state.hardware?"/img/icons/checkmark-green@2x.png":null,isSelected:"trezor"===this.state.hardware,onClick:this.handleTrezorClick}),r.a.createElement(_a,{title:"Ledger",iconUrl:"ledger"===this.state.hardware?"/img/icons/checkmark-green@2x.png":null,isSelected:"ledger"===this.state.hardware,onClick:this.handleLedgerClick})),r.a.createElement("div",{className:"UnlockWalletCard__warning"},t),r.a.createElement("div",{className:"UnlockColdWalletLedger__choose-derivation-path"},"ledger"===this.state.hardware&&r.a.createElement("select",{value:this.state.derivationPath,onChange:this.handleDerivationPathChange,className:"UnlockColdWalletLedger__select"},r.a.createElement("option",{value:it},"Ethereum - m/44'/60'/0'/0"),r.a.createElement("option",{value:"m/44'/60'/0'/"},"Ethereum - m/44'/60'/0'"),r.a.createElement("option",{value:"m/44'/60'/"},"Ethereum - Ledger Live - m/44'/60'"))),r.a.createElement("div",{className:"UnlockWalletViaColdWallet__footer"},r.a.createElement(ma,{title:"Continue",loading:this.state.loading,onClick:this.handleChooseHardwareClick,disabled:e})))}}]),t}(r.a.Component),Ba=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=null;return this.props.unlockStrategy===ct?e=r.a.createElement(Pa,{unlockWallet:this.props.unlockWallet}):this.props.unlockStrategy===lt?e=r.a.createElement(Wa,{unlockWallet:this.props.unlockWallet}):this.props.unlockStrategy===ut?e=r.a.createElement(xa,{unlockWallet:this.props.unlockWallet}):this.props.unlockStrategy===ot&&(e=r.a.createElement(Ia,{getHardwareWalletAddresses:this.props.getHardwareWalletAddresses})),r.a.createElement("div",{className:"UnlockWalletCard"},r.a.createElement("div",{className:"UnlockWalletCard__content"},r.a.createElement("div",{className:"UnlockWalletCard__header"},r.a.createElement(St,{centered:!0,condensed:!0,className:"UnlockWalletCard__tab-bar"},r.a.createElement(xt,{title:"Keystore",href:"/unlock/"+ct}),r.a.createElement(xt,{title:"Mnemonic",href:"/unlock/"+lt}),r.a.createElement(xt,{title:"Private Key",href:"/unlock/"+ut}),r.a.createElement(xt,{title:"Hardware",href:"/unlock/"+ot}))),e))}}]),t}(r.a.Component),Ha=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).unlockWallet=e.unlockWallet.bind(Object(Oe.a)(Object(Oe.a)(e))),e.getHardwareWalletAddresses=e.getHardwareWalletAddresses.bind(Object(Oe.a)(Object(Oe.a)(e))),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"unlockWallet",value:function(e,t,a){this.props.dispatch(wt(e,t,a))}},{key:"getHardwareWalletAddresses",value:function(e,t,a){this.props.dispatch(function(e,t,a){return function(){var n=Object(je.a)(we.a.mark(function n(r,s){var i;return we.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=null,n.prev=1,n.next=4,dt.getHardwareWalletAddresses(e,t,a);case 4:i=n.sent,n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),yt.showError(n.t0.message);case 10:i&&Te.dispatch(vt({type:Ot.COLD_WALLET_SELECTOR,props:{hardware:e,addresses:i,page:t}}));case 11:case"end":return n.stop()}},n,null,[[1,7]])}));return function(e,t){return n.apply(this,arguments)}}()}(e,t,a))}},{key:"render",value:function(){var e=this.props.match.params.unlockStrategy;return r.a.createElement("div",{className:"UnlockWalletPage"},r.a.createElement("div",{className:"UnlockWalletPage__wrapper"},r.a.createElement("div",{className:"UnlockWalletPage__title"},"Unlock Your Wallet"),r.a.createElement(Ba,{unlockStrategy:e,unlockWallet:this.unlockWallet.bind(this),getHardwareWalletAddresses:this.getHardwareWalletAddresses.bind(this)}),r.a.createElement("div",{className:"UnlockWalletPage__subtitle"},r.a.createElement("span",null,"Don't have a wallet?"),r.a.createElement(ha.a,{to:"/create"},"Create Wallet"))))}}]),t}(r.a.Component),Fa=Object(v.b)(function(e){return{}})(Ha),La=(a(658),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"OfflineCard"},r.a.createElement("div",{className:"OfflineCard__content"},r.a.createElement("div",{className:"OfflineCard__header"}),r.a.createElement("div",{className:"OfflineCard__body"},r.a.createElement("img",{className:"OfflineCard__icon",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQgAAADcCAMAAAC78M9AAAAAY1BMVEUAAACSotaSotaSotaSotaSotaSotaSotaSotaSotaSotaSotb/HSX/HSWSotaSotaSotb/HSWSotb/HSX/HSX/HSX/HSX/HSX/HSX/HSX/HSX/HSX/HSX/HSX/HSWSotb/HSXyXCU7AAAAH3RSTlMAgBC/759gMM9A3yDvEHBQr4CPn79AMGDP3yBwUK+P9b1oOQAACbhJREFUeNrknOl6oyAUQC+oKO670Szy/k857XRmSAMENKJken62X9t4cjcIFDRM3VD95tz18FPpqjZl95xulwx+Gl2TMhnX4Se5yIaRKUmbCX4I55Q952eo6Eamp/rvEyS7MiPGDl4ioTRHCHm/ieYPfO+LEiGUUxrCoXQpM6WCNYT08+lnI+IPKfkxRs5sAW22LAYKVEbzGiIPEQp70ogZ0FZV98G5ak7CN0+ZuQNvfpW4RBTDLjTCzDDBHdnlcbZIewMJJIjnzYiDXEgVyx7SagKRoV1koqjjeXP8UpBhz0Oq7I/dyTQ7SDlbww8IBo61OnnNTOetEygIo9kykZXA6BgnvcBTphPjNCAl8ecdiOutXWTp3ZvcL0ojubVgluO6i+vCpljdxU8GInjekSjHFhLDcDgY7goKiNB5X8oCNmEUPCzJjm6liOhrYfG1tiDoD94Ha1IEJVt2jLQHU1o+ay8TEXs1KmioXZQUCC1TEtDtKuVl1U91IOBLQ6BERQjLwJSYr1E8Aq8wCOluRPcsJNCjgyCn8AKU1J5RhryiYpQ2gL5q2/N0v393ba9DJm01PQhEdxLqAsMW0LyM9UMnwi+3jAo4N/ab4Z+XL13j3TNPz6YqXNuZhRMS+JZUNDwgHr/ITfQp+yKdZD8JEjBBiIINwtzTqMhhBakkIHr2j4F7+E0jC4kL7AzWBEZMXsiM6T4xOAP38PjuX7mdAyieuogoLKOStYyW3TF8euDI+s0Iu6Nf6nsJaJE986ASwVKmEJEJ0bQ7OI9mJQivKRGTECZSRqnFCxxHGKirZgGmTNIHnAy38Sv+1SPBefxyfnRCiVCHhLgqu/BqeTDEU04VYMSgeE8bEw+8zbZwOLRU9Y9wUdM4g96EuEp3SARAoioWaImIDgQTeg/ApwsnUKmIwhdEQKP3ALypOkKiqBX5CyJ69sAZ3BcBQOUqPLxSBJ+rOcM7iAAgsbR9UDMRF4kHvQn+QY9TIH+WUBuJqEQPehOZU13jjqRUpId+oLqJHvQmOldFANBYmx4mjzIyAVktObsxYkvBSNs99OVuYEqu0g57BgeRfhAdYN3WbSc8oBzFDzuJLCgirNmyvKn2I06NSkTvZPfUBYUfAkezy3T9Pk82ChE3d2sl30033aWYZGVwuPfAw+bxmUenS8QfCn8WICDhJHnEbHxYXzRSXcfv1JmAPUnJfPoRcC/MEXyd1Uj65OjoXCmAjExk0qifmoczZZfT5xNfvlWXd8gMnh7aKbNRfE7TPwZ8BwCy9EndP6KeRAZttGernujGeON1HxwYmGjXnAu4sPcolf/I9SZ6tjzb+5Q5vM4wLBRRqN6UG8CIbGRvVCH+EPq6ITNLF5rIToy58CHXQnCkM3Fhi0z04/1q9I3AnmAiEZLDvAlcUvaGifFFoKmYPNa1h5CzG7vj7S4I60xMqXCLz+QW4ABvB5KYUO9SpudMrqFlzDiL9CdKkfdAjRChFKxChGn76b51ehOifjqP7BvNKgMFCjx/fo5XChfaLJoINTv4YzP0/yRcKl5G1sZDyI+NGhHxK1xWTSCxK4qk7Qf8G6vrQ5iX/rwGD1HbJpDQEFpmTNqBMbgI4tfusxFs0wQCgWr766+YlNtcT0msmShApD8ZhcMZDCnKeTMigq2Y8EHKkDIdjWE4hLU/b0tAYStyRUBwsird5N9HEG+2QJzjjScrAmoGZdUcKzMNGMWzJfwggU1I6s8RTvPLpnMrsXC7mP4Jf7YJV7ELXdW0f7OkbavLtP5I17urWANGxun+55ofJ/C86D9RgZGvT3KvRpQ+W4/lyIsNVGBwFhJrHCz4dxg0D3S/DYGbhJ5mUBai+dX/wxEX4B64ntVEKISVJPkzv6VzpaKI7a0TMPGe3WRzCVwqX2gdwgYkeaz0HIIzFP7mt5RFqHI+caVo4kDV4ELYlETVnD0nKkUYK3IiAY7lOcUncDhIeTHZDsR3crzC3u4vCyPfvZoZ+kc0d1y7lh5EOu5R0GDrpk4NBxEcuAAoYvn54gPA0d6NTJ8fcQi7E8aa073WoYe/gk+oLymSGHTYDwoCu0LcWP7I3o4AdiR3pY/j8lATgUOTXX5g8wicGmbC+CATOHAkLfiYf4gJHMmOuh9LfcBbgyN3JlsO0V/dsu/Bga0Ag/PF1j34FJwgjDQmbHtwZud0z9eGIzeWe5puZt+E57IHxfliGxDn2qbWRA028ISZ3jnyx+QAG7jvQYzaECzwBh4EExQs4L+Bh0cTCVggeAcP303EYIPkLTwAEOvjP3kLD3u8ziJ2+uzSr/bOBcdxEAii/A1YMigX4P633B3NZImGxGYN2DT0u0CiEp/GVDVX/k9DqeutjIL8PxHkg7P0wf8hKTWdfNy4DrN5ffsTbXezHL9opx/DD43lYXNjGT26aiuxRhXytOjmO2Ah5dkmq0ZbL9hmwykE7cJDWc8IN3ZcJ78HbRmPISaIsiEDoBmVE2mWQizsyoI9wv8BKqNy2veWomPQTz5frIOSUak1HDh1a/qwOv1pM9FzHKHM0pMf8Vo2H77pwUZZznY24hWbTnTltz4J84Xnh5XaDzqCmh6LLm16EA8nvVpTzofdrKr0WAaY3UOVyhAx30MLwv1zboyDFVTo/Rkac5CVq0JGu4molG4X1pUuvfCUYLqJX532EdYp0kG4Svtxv87GLB302so8GES/pZVvWRErOOuEahvjWASUgwdPZ3HbmSdIn7QeuelC0emx44IZLEEI0dp/mIZ1Ot03/L4OUNyD5Zh9HcC4ByH4+qC4HJ14cy8F9FcKcZf4+hylwxkGEARBEARBEARBEARBEARB+mF1VPK/eKo69n00Jc0+WtnpVeYJSt2kttu7q2YYDug1mXbES+37eynfyapDBJRdLlLfDHV/b+vriTqgElGHXSZYMqM1bvJ1QoYsNBkcF37R+5tTrXjT1lxS+vOyOgTHHGnjUrZ0fSYcLcy80knsTj+ETcwzJNRulGMRICzn9XMM5k2JAcBOWgF2FN804ZVxawl3WCnIOXZQelhFr+EFTkaFH68AHkAupRwdIjJjXyGjkpF0N1OsljnhGwABHRTiSiHYdEJ8WiOmOG3wEPHkLdsUu4YPEcHIO/QUhw0aXlCHM8OTUTHhBctICgfZVKd+RHab5PRJ5P41zhIm+R5BzO6XaiVgtps6g07aEX5sBSCGvhVX4RfPPuCLFHNdbPCQoPl3T8+ZBkRcD/FCnIaPzFFMJXX2LnbwifEF0+gKeCqBOjyVQB2S2glki8aKODGtQyQZFCP1AC9ilemomNSWTtSrFsJP3TZmNRv9wty5U/wBm2mmq1Lx0n8AAAAASUVORK5CYII="}),r.a.createElement("div",{className:"OfflineCard__title"},"You're offline!"),r.a.createElement("div",{className:"OfflineCard__message"},"Your wallet has been unlocked. You may enable your internet connection now. Once your connection is enabled, press \u2018Continue\u2019.")),r.a.createElement("div",{className:"OfflineCard__footer"},r.a.createElement(ma,{title:"Continue",href:"/wallet"}))))}}]),t}(r.a.Component)),Ua=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).handleContinue=e.handleContinue.bind(Object(Oe.a)(Object(Oe.a)(e))),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleContinue",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"CreateWalletPage"},r.a.createElement("div",{className:"CreateWalletPage__wrapper"},r.a.createElement("div",{className:"CreateWalletPage__title"},""),r.a.createElement(La,{onContinue:this.handleContinue})))}}]),t}(r.a.Component),Ma=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Pages"},r.a.createElement(p.a,null,r.a.createElement(m.a,{from:"/onboarding",to:"/onboarding/0",exact:!0}),r.a.createElement(f.a,{path:"/onboarding/:onboardingStep",component:ga})),r.a.createElement(f.a,{path:"/create",component:wa}),r.a.createElement(p.a,null,r.a.createElement(m.a,{from:"/unlock",to:"/unlock/keystore-file",exact:!0}),r.a.createElement(f.a,{path:"/unlock/:unlockStrategy",component:Fa})),r.a.createElement(f.a,{path:"/offline",component:Ua}))}}]),t}(r.a.Component),Ra=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Pages Pages--wallet"},r.a.createElement(p.a,null,!1===dt.unlocked()&&r.a.createElement(m.a,{to:"/unlock"}),r.a.createElement(f.a,{path:"/wallet/settings",component:ba}),r.a.createElement(m.a,{from:"/wallet",to:Ie.isThetaNetworkLive?"/wallet/tokens/theta":"/wallet/tokens/erc20",exact:!0}),r.a.createElement(m.a,{from:"/wallet/tokens",to:Ie.isThetaNetworkLive?"/wallet/tokens/theta":"/wallet/tokens/erc20",exact:!0}),r.a.createElement(f.a,{path:"/wallet/tokens/:tokenType",component:da}),r.a.createElement(f.a,{path:"/offline",component:Ua})))}}]),t}(r.a.Component),Da=(a(659),a(269)),Ka=a.n(Da),Va=(a(665),a(666),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Modal"},r.a.createElement("a",{className:"Modal__close-button",onClick:function(e){e.preventDefault()}},r.a.createElement("img",{src:"/img/icons/modal-x@2x.png"})),this.props.children)}}]),t}(r.a.Component)),Ga=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).handleCopyAddressClick=e.handleCopyAddressClick.bind(Object(Oe.a)(Object(Oe.a)(e))),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleCopyAddressClick",value:function(){B(dt.getWalletAddress()),yt.showSuccess("Your address has been copied")}},{key:"render",value:function(){var e=dt.getWalletAddress(),t="https://chart.googleapis.com/chart?chs=160x160&cht=qr&chl=".concat(e,"&choe=UTF-8&chld=L|0");return r.a.createElement(Va,null,r.a.createElement("div",{className:"ReceiveModal"},r.a.createElement("div",{className:"ReceiveModal__title"},"Receive"),r.a.createElement("div",{className:"ReceiveModal__public-address-title"},"My Public Address"),r.a.createElement("div",{className:"ReceiveModal__public-address"},e),r.a.createElement("div",{className:"ReceiveModal__buttons"},r.a.createElement(oa,{title:"Copy",iconUrl:"/img/icons/copy@2x.png",onClick:this.handleCopyAddressClick})),r.a.createElement("img",{src:t,className:"ReceiveModal__qr"})))}}]),t}(r.a.Component),za=(a(667),a(259),a(668),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"FormInputContainer"},r.a.createElement("div",{className:"FormInputContainer__title"},this.props.title),r.a.createElement("div",{className:"FormInputContainer__input-container"},this.props.children),r.a.createElement("div",{className:"FormInputContainer__error"},this.props.error))}}]),t}(r.a.Component)),Ya=(a(669),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"ValueWithTitle"},r.a.createElement("div",{className:"ValueWithTitle__title"},this.props.title),r.a.createElement("div",{className:"ValueWithTitle__value"},this.props.value))}}]),t}(r.a.Component)),Xa=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={tokenType:e.defaultTokenType||le.ERC20_THETA,to:"",amount:"",transactionFee:null,gasPrice:null,gasLimit:null,invalidAddress:!1,insufficientFunds:!1,invalidAmount:!1,invalidDecimalPlaces:!1,showGasDetails:!1},a.handleChange=a.handleChange.bind(Object(Oe.a)(Object(Oe.a)(a))),a.handleGasDetailsClick=a.handleGasDetailsClick.bind(Object(Oe.a)(Object(Oe.a)(a))),a.handleSendClick=a.handleSendClick.bind(Object(Oe.a)(Object(Oe.a)(a))),a.handleEntireBalanceClick=a.handleEntireBalanceClick.bind(Object(Oe.a)(Object(Oe.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){var t=this,a=e.target.name,n=e.target.value;if("tokenType"===a){this.updateGasPrice(),this.setState(Object.assign({to:"",amount:"",transactionFee:null,gasPrice:null,gasLimit:null,invalidAddress:!1,invalidDecimalPlaces:!1,invalidAmount:!1,insufficientFunds:!1},{tokenType:n}))}else"amount"===a&&(n=n.replace(/[^0-9.]/g,"")),this.setState(Object(x.a)({},a,n),function(){t.validate(),t.updateTransactionFee()})}},{key:"handleGasDetailsClick",value:function(){this.setState({showGasDetails:!this.state.showGasDetails})}},{key:"handleSendClick",value:function(){Te.dispatch(vt({type:Ot.SEND_CONFIRMATION,props:{network:he.ETHEREUM,transaction:{tokenType:this.state.tokenType,to:this.state.to,amount:this.state.amount,gas:this.state.gasLimit,gasPrice:this.state.gasPrice,transactionFee:this.state.transactionFee}}}))}},{key:"updateGasPrice",value:function(){var e=Object(je.a)(we.a.mark(function e(){var t;return we.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We.getGasPrice();case 2:return t=e.sent,this.setState({gasPrice:t}),e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateGasLimit",value:function(){var e=Object(je.a)(we.a.mark(function e(){var t,a;return we.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={tokenType:this.state.tokenType,to:this.state.to,from:this.props.walletAddress,amount:this.state.amount,gasPrice:this.state.gasPrice},e.next=3,We.estimateGas(t);case 3:return a=e.sent,this.setState({gasLimit:a}),e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"isValid",value:function(){return this.state.to.length>0&&this.state.amount.length>0&&!1===this.state.invalidAddress&&!1===this.state.insufficientFunds&&!1===this.state.invalidDecimalPlaces&&!1===this.state.invalidAmount}},{key:"updateTransactionFee",value:function(){var e=Object(je.a)(we.a.mark(function e(){var t,a,n;return we.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isValid()){e.next=17;break}return t=this.state.gasPrice,e.next=4,this.updateGasLimit();case 4:if(a=e.sent,null==t||null==a){e.next=13;break}return e.next=8,We.getTransactionFee(this.state.gasPrice,a);case 8:return n=e.sent,this.setState({transactionFee:n}),e.abrupt("return",n);case 13:return this.setState({transactionFee:null}),e.abrupt("return",null);case 15:e.next=19;break;case 17:return this.setState({transactionFee:null}),e.abrupt("return",null);case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"calculateEntireEtherBalance",value:function(){var e=Object(je.a)(we.a.mark(function e(){var t,a,n,r,s;return we.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateTransactionFee();case 2:t=e.sent,a=this.props.balancesByType[le.ETHEREUM],t&&(n=new pe.BigNumber(t),r=new pe.BigNumber(a),s=r.minus(n),this.setState({amount:s.toString()}));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleEntireBalanceClick",value:function(){var e=Object(je.a)(we.a.mark(function e(){var t,a,n=this;return we.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.state.tokenType===le.ERC20_THETA?(t=this.props.balancesByType[le.ERC20_THETA],this.setState({amount:t})):this.state.tokenType===le.ETHEREUM&&(a=this.props.balancesByType[le.ETHEREUM],0!==parseFloat(a)&&this.setState({amount:a},function(){n.calculateEntireEtherBalance()}));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"validate",value:function(){this.state.to.length>0&&this.validateAddress(),this.state.amount.length>0&&this.validateAmount()}},{key:"validateAddress",value:function(){var e=Object(je.a)(we.a.mark(function e(){var t,a=this;return we.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=We.isAddress(this.state.to),this.setState({invalidAddress:!1===t},function(){a.updateTransactionFee()});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"validateAmount",value:function(){var e=Object(je.a)(we.a.mark(function e(){var t,a,n,r,s=this;return we.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=parseFloat(this.state.amount),a=this.props.balancesByType[le.ERC20_THETA],n=this.props.balancesByType[le.ETHEREUM],r=null,this.state.tokenType===le.ERC20_THETA?r=a:this.state.tokenType===le.ETHEREUM&&(r=n),this.setState({insufficientFunds:t>parseFloat(r),invalidAmount:0===t||t<0,invalidDecimalPlaces:!P(this.state.amount,18)},function(){s.updateTransactionFee()});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t,a){this.state.to!==t.to&&this.validateAddress(),this.state.amount===t.amount&&this.state.gasPrice===t.gasPrice||(this.validateAmount(),this.updateTransactionFee())}},{key:"componentDidMount",value:function(){this.updateGasPrice()}},{key:"render",value:function(){var e=null!==this.state.to&&""!==this.state.to&&!1===this.state.invalidAddress,t="ERC20 Theta (".concat(this.props.balancesByType[le.ERC20_THETA],")"),a="Ethereum (".concat(this.props.balancesByType[le.ETHEREUM],")"),n=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Transaction Fee"),r.a.createElement("a",{className:"TxForm__toggle-gas-details",onClick:this.handleGasDetailsClick},this.state.showGasDetails?"Hide Gas Details":"Show Gas Details")),s=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Amount"),e&&r.a.createElement("a",{className:"TxForm__entire-balance",onClick:this.handleEntireBalanceClick},"Entire Balance")),i=this.isValid(),c=this.state.invalidAddress?"Invalid address":null,l=null;return this.state.insufficientFunds?l="Insufficient funds":this.state.invalidDecimalPlaces?l="Invalid denomination":this.state.invalidAmount&&(l="Invalid amount"),r.a.createElement("div",{className:"TxForm TxForm--ethereum-network"},r.a.createElement(za,{title:"Token"},r.a.createElement("select",{className:"BottomBorderInput",value:this.state.tokenType,onChange:this.handleChange,name:"tokenType"},r.a.createElement("option",{value:le.ERC20_THETA},t),r.a.createElement("option",{value:le.ETHEREUM},a))),r.a.createElement(za,{title:"To",error:c},r.a.createElement("input",{className:"BottomBorderInput",name:"to",placeholder:"Enter address",value:this.state.to,onChange:this.handleChange})),r.a.createElement(za,{title:s,error:l},r.a.createElement("input",{className:"BottomBorderInput",type:"text",value:this.state.amount,name:"amount",placeholder:"Enter amount to send",onChange:this.handleChange})),r.a.createElement("div",{className:"TxForm__fee-container"},r.a.createElement("div",{className:""},r.a.createElement(Ya,{title:n,value:this.state.transactionFee?this.state.transactionFee+" ETH":"--"})),this.state.showGasDetails&&r.a.createElement("div",{className:"TxForm__gas-details-container"},r.a.createElement(Ya,{title:"Gas Price",value:this.state.gasPrice?this.state.gasPrice+" Gwei":"--"}),r.a.createElement(Ya,{title:"Gas Limit",value:this.state.gasLimit||"--"}))),r.a.createElement(ma,{title:"Send",disabled:!1===i,onClick:this.handleSendClick}))}}]),t}(r.a.Component),Ja=Object(v.b)(function(e){return{balancesByType:e.wallet.ethereumBalancesByType,walletAddress:e.wallet.address}})(Xa),qa=(a(670),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={tokenType:e.defaultTokenType||le.THETA,to:"",amount:"",transactionFee:Ue.getTransactionFee(),invalidAddress:!1,insufficientFunds:!1,invalidAmount:!1,invalidDecimalPlaces:!1},a.handleChange=a.handleChange.bind(Object(Oe.a)(Object(Oe.a)(a))),a.handleSendClick=a.handleSendClick.bind(Object(Oe.a)(Object(Oe.a)(a))),a.handleEntireBalanceClick=a.handleEntireBalanceClick.bind(Object(Oe.a)(Object(Oe.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"getBalanceOfTokenType",value:function(e){return se.a.get(this.props.balancesByType,e,0)}},{key:"handleChange",value:function(e){var t=this,a=e.target.name,n=e.target.value;if("tokenType"===a){var r={to:"",amount:"",transactionFee:1e-6,invalidAddress:!1,invalidDecimalPlaces:!1,invalidAmount:!1,insufficientFunds:!1};this.setState(Object.assign(r,{tokenType:n}))}else"amount"===a&&(n=n.replace(/[^0-9.]/g,"")),this.setState(Object(x.a)({},a,n),function(){t.validate()})}},{key:"handleSendClick",value:function(){var e=this.state.to.toLowerCase();!1===e.startsWith("0x")&&(e="0x"+e),Te.dispatch(vt({type:Ot.SEND_CONFIRMATION,props:{network:Ie.thetaNetwork,transaction:{tokenType:this.state.tokenType,from:this.props.walletAddress,to:e,amount:this.state.amount,transactionFee:this.state.transactionFee}}}))}},{key:"isValid",value:function(){return this.state.to.length>0&&this.state.amount.length>0&&!1===this.state.invalidAddress&&!1===this.state.insufficientFunds&&!1===this.state.invalidDecimalPlaces&&!1===this.state.invalidAmount}},{key:"calculateEntireTFuelBalance",value:function(){var e=Object(je.a)(we.a.mark(function e(){var t,a,n,r,s;return we.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.transactionFee,a=this.getBalanceOfTokenType(le.THETA_FUEL),t&&(n=new pe.BigNumber(t),r=new pe.BigNumber(a),s=r.minus(n),this.setState({amount:s.toString()}));case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleEntireBalanceClick",value:function(){var e=Object(je.a)(we.a.mark(function e(){var t,a,n=this;return we.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.state.tokenType===le.THETA?(t=this.getBalanceOfTokenType(le.THETA),this.setState({amount:t})):this.state.tokenType===le.THETA_FUEL&&(a=this.getBalanceOfTokenType(le.THETA_FUEL),0!==parseFloat(a)&&this.setState({amount:a},function(){n.calculateEntireTFuelBalance()}));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"validate",value:function(){this.state.to.length>0&&this.validateAddress(),this.state.amount.length>0&&this.validateAmount()}},{key:"validateAddress",value:function(){var e=Object(je.a)(we.a.mark(function e(){var t;return we.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=Ue.isAddress(this.state.to),this.setState({invalidAddress:!1===t});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"validateAmount",value:function(){var e=Object(je.a)(we.a.mark(function e(){var t,a,n,r;return we.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=parseFloat(this.state.amount),a=this.getBalanceOfTokenType(le.THETA),n=this.getBalanceOfTokenType(le.THETA_FUEL),r=null,this.state.tokenType===le.THETA?r=a:this.state.tokenType===le.THETA_FUEL&&(r=n),this.setState({insufficientFunds:t>parseFloat(r),invalidAmount:0===t||t<0,invalidDecimalPlaces:!P(this.state.amount,18)});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t,a){this.state.to!==t.to&&this.validateAddress(),this.state.amount===t.amount&&this.state.gasPrice===t.gasPrice||this.validateAmount()}},{key:"render",value:function(){var e=null!==this.state.to&&""!==this.state.to&&!1===this.state.invalidAddress,t="Theta (".concat(this.getBalanceOfTokenType(le.THETA),")"),a="TFuel (".concat(this.getBalanceOfTokenType(le.THETA_FUEL),")"),n=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Transaction Fee")),s=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Amount"),e&&r.a.createElement("a",{className:"TxForm__entire-balance",onClick:this.handleEntireBalanceClick},"Entire Balance")),i=this.isValid(),c=this.state.invalidAddress?"Invalid address":null,l=null;return this.state.insufficientFunds?l="Insufficient funds":this.state.invalidDecimalPlaces?l="Invalid denomination":this.state.invalidAmount&&(l="Invalid amount"),r.a.createElement("div",{className:"TxForm TxForm--ethereum-network"},r.a.createElement(za,{title:"Token"},r.a.createElement("select",{className:"BottomBorderInput",value:this.state.tokenType,onChange:this.handleChange,name:"tokenType"},r.a.createElement("option",{value:le.THETA},t),r.a.createElement("option",{value:le.THETA_FUEL},a))),r.a.createElement(za,{title:"To",error:c},r.a.createElement("input",{className:"BottomBorderInput",name:"to",placeholder:"Enter address",value:this.state.to,onChange:this.handleChange})),r.a.createElement(za,{title:s,error:l},r.a.createElement("input",{className:"BottomBorderInput",type:"text",value:this.state.amount,name:"amount",placeholder:"Enter amount to send",onChange:this.handleChange})),r.a.createElement("div",{className:"TxForm__fee-container"},r.a.createElement("div",{className:""},r.a.createElement(Ya,{title:n,value:this.state.transactionFee+" TFuel"}))),r.a.createElement(ma,{title:"Send",disabled:!1===i,onClick:this.handleSendClick}))}}]),t}(r.a.Component)),Za=Object(v.b)(function(e){return{balancesByType:e.wallet.balancesByType,walletAddress:e.wallet.address}})(qa),Qa=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.tokenType||(Ie.isThetaNetworkLive?le.THETA:le.ERC20_THETA),t=null;return t=e===le.THETA||e===le.THETA_FUEL?r.a.createElement(Za,{defaultTokenType:e}):r.a.createElement(Ja,{defaultTokenType:e}),r.a.createElement(Va,null,r.a.createElement("div",{className:"SendModal"},r.a.createElement("div",{className:"SendModal__title"},"Send"),t))}}]),t}(r.a.Component),$a=(a(671),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).close=e.close.bind(Object(Oe.a)(Object(Oe.a)(e))),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"close",value:function(){Te.dispatch(bt())}},{key:"render",value:function(){return r.a.createElement(Va,null,r.a.createElement("div",{className:"PrivateKeyModal"},r.a.createElement("div",{className:"PrivateKeyModal__title"},"Your Private Key"),r.a.createElement("div",{className:"PrivateKeyModal__instructions"},"Backup the text below on paper or digitally and keep it somewhere safe and secure."),r.a.createElement("textarea",{className:"PrivateKeyModal__private-key",value:this.props.privateKey,readOnly:!0}),r.a.createElement(ma,{title:"Close",onClick:this.close})))}}]),t}(r.a.Component)),en=(a(672),a(106)),tn=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={password:""},e.handleChange=e.handleChange.bind(Object(Oe.a)(Object(Oe.a)(e))),e.handleSendClick=e.handleSendClick.bind(Object(Oe.a)(Object(Oe.a)(e))),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(x.a)({},t,a))}},{key:"handleSendClick",value:function(){this.props.dispatch(kt(this.props.network,this.props.transaction,this.state.password))}},{key:"render",value:function(){var e=this.props.transaction,t=e.tokenType,a=e.amount,n=e.to,s=e.gas,i=e.gasPrice,c=e.transactionFee,l=dt.getWalletHardware()||this.state.password.length>0,o=this.props.isCreatingTransaction,u=function(e,t){return r.a.createElement("div",{className:"SendConfirmationModal__row"},r.a.createElement("div",{className:"SendConfirmationModal__row-title"},e),r.a.createElement("div",{className:"SendConfirmationModal__row-value"},t))},d=null;ue(this.props.network)?d=r.a.createElement(r.a.Fragment,null,u("From",this.props.walletAddress),u("Transaction Type","Asset Transfer"),u("Gas Limit",s),u("Gas Price",i+" Gwei"),u("Transaction Fee",c+" ETH")):de(this.props.network)&&(d=r.a.createElement(r.a.Fragment,null,u("From",this.props.walletAddress),u("Transaction Fee",c+" TFUEL")));var h=null;return dt.getWalletHardware()||(h=r.a.createElement("div",{className:"SendConfirmationModal__password-container"},r.a.createElement("div",{className:"SendConfirmationModal__password-title"},"Enter your wallet password to sign this transaction"),r.a.createElement("input",{className:"ChoosePasswordCard__password-input",placeholder:"Enter wallet password",name:"password",type:"password",value:this.state.password,onChange:this.handleChange.bind(this)}))),r.a.createElement(Va,null,r.a.createElement("div",{className:"SendConfirmationModal"},r.a.createElement("div",{className:"SendConfirmationModal__title"},"Confirm Transaction"),r.a.createElement("div",{className:"SendConfirmationModal__amount-title"},"You are sending"),r.a.createElement("div",{className:"SendConfirmationModal__amount"},a),r.a.createElement("div",{className:"SendConfirmationModal__token-name"},ce(t)),r.a.createElement("div",{className:"SendConfirmationModal__to-title"},"To recipient"),r.a.createElement("div",{className:"SendConfirmationModal__to"},n),r.a.createElement("div",{className:"SendConfirmationModal__rows"},d),h,r.a.createElement(ma,{title:"Confirm & Send",disabled:o||!1===l,onClick:this.handleSendClick,loading:o})))}}]),t}(r.a.Component),an=Object(en.a)(function(e){return{walletAddress:e.wallet.address,isCreatingTransaction:e.transactions.isCreatingTransaction}})(tn),nn=(a(673),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={tfuelWei:null,thetaWei:null,isLoading:!0},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"fetchBalances",value:function(){var e=Object(je.a)(we.a.mark(function e(t){var a,n,r,s;return we.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze.fetchWallet(t,{network:Ie.thetaNetwork});case 2:if(!(a=e.sent)){e.next=11;break}return e.next=6,a.json();case 6:n=e.sent,r=n.balances,s=null,s=r?W(r.map(function(e){return e.type}),r.map(function(e){return e.value})):{theta:0,tfuel:0},this.setState({balances:s,isLoading:!1});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this.props.address;this.fetchBalances(e)}},{key:"render",value:function(){var e=this.props,t=e.address,a=e.serializedPath,n=e.isSelected,s=e.onClick,i=this.state,c=i.balances,l=null;return l=i.isLoading?r.a.createElement(ca.a,{singleColor:"#ffffff"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ColdWalletSelectorModal__amount-container"},r.a.createElement("div",{className:"ColdWalletSelectorModal__amount"},c.theta),r.a.createElement("img",{className:"ColdWalletSelectorModal__amount-icon",src:"/img/tokens/theta_large@2x.png"})),r.a.createElement("div",{className:"ColdWalletSelectorModal__amount-container"},r.a.createElement("div",{className:"ColdWalletSelectorModal__amount"},c.tfuel),r.a.createElement("img",{className:"ColdWalletSelectorModal__amount-icon",src:"/img/tokens/tfuel_large@2x.png"}))),r.a.createElement("a",{className:"ColdWalletSelectorModal__row",key:a,onClick:s},r.a.createElement("img",{className:"ColdWalletSelectorModal__checkmark-icon",src:n?"/img/icons/checkmark-green@2x.png":"/img/icons/checkmark-transparent@2x.png"}),r.a.createElement("div",{className:"ColdWalletSelectorModal__row-address"},t),r.a.createElement("div",{className:"ColdWalletSelectorModal__row-balance"},l))}}]),t}(r.a.Component)),rn=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={page:e.page,addressChosen:null,pathChosen:null},a.handleUnlockWalletClick=a.handleUnlockWalletClick.bind(Object(Oe.a)(Object(Oe.a)(a))),a.handlePrevPageClick=a.handlePrevPageClick.bind(Object(Oe.a)(Object(Oe.a)(a))),a.handleNextPageClick=a.handleNextPageClick.bind(Object(Oe.a)(Object(Oe.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"isValid",value:function(){return null!=this.state.addressChosen}},{key:"handleUnlockWalletClick",value:function(){Te.dispatch(wt(ot,null,{hardware:this.props.hardware,address:this.state.addressChosen,path:this.state.pathChosen})),Te.dispatch(bt())}},{key:"handleAddressClick",value:function(e){this.setState({addressChosen:e.address,pathChosen:e.serializedPath})}},{key:"handlePrevPageClick",value:function(){this.setState({page:this.state.page-1})}},{key:"handleNextPageClick",value:function(){this.setState({page:this.state.page+1})}},{key:"render",value:function(){var e=this,t=this.state.loading||!1===this.isValid(),a=function(t){if(t)return r.a.createElement(nn,{address:t.address,serializedPath:t.serializedPath,key:t.address,isSelected:e.state.addressChosen===t.address,onClick:function(){e.handleAddressClick(t)}})},n=null;if(this.props.addresses){var s=this.props.addresses;n=[];for(var i=0;i<5;i++){var c=s[5*this.state.page+i];n.push(a(c))}n=r.a.createElement(r.a.Fragment,null,n)}var l=this.state.page>0,o=5*(this.state.page+1)<this.props.addresses.length,u=!1,d=!1;return u=l?r.a.createElement("a",{className:"ColdWalletSelectorModal__footer-button",onClick:this.handlePrevPageClick},"< Previous"):r.a.createElement("div",null),d=o?r.a.createElement("a",{className:"ColdWalletSelectorModal__footer-button",onClick:this.handleNextPageClick},"Next >"):r.a.createElement("div",null),r.a.createElement(Va,null,r.a.createElement("div",{className:"ColdWalletSelectorModal"},r.a.createElement("div",{className:"ColdWalletSelectorModal__title"},"Select an Address"),r.a.createElement("div",{className:"ColdWalletSelectorModal__rows"},n),r.a.createElement("div",{className:"ColdWalletSelectorModal__footer"},u,d),r.a.createElement(ma,{title:"Access My Wallet",disabled:t,onClick:this.handleUnlockWalletClick,loading:this.state.loading})))}}]),t}(r.a.Component),sn=(ta={},Object(x.a)(ta,Ot.RECEIVE,Ga),Object(x.a)(ta,Ot.SEND,Qa),Object(x.a)(ta,Ot.SEND_CONFIRMATION,an),Object(x.a)(ta,Ot.PRIVATE_KEY,$a),Object(x.a)(ta,Ot.COLD_WALLET_SELECTOR,rn),ta),cn=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.modal,t=e?e.component:null;return r.a.createElement(Ka.a,{isOpen:null!==e,onRequestClose:this.props.closeModal,ariaHideApp:!1,overlayClassName:"ModalOverlay",className:"Modal"},e&&r.a.createElement(t,Object.assign({closeModal:this.props.closeModal},e.props)))}}]),t}(r.a.Component),ln=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).closeModal=e.closeModal.bind(Object(Oe.a)(Object(Oe.a)(e))),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"closeModal",value:function(){this.props.dispatch(bt())}},{key:"getModal",value:function(e){var t=se.a.get(this.props.modals,[e],null);return t&&(t=Object.assign({},t,{component:sn[t.type]})),t}},{key:"render",value:function(){var e=this.getModal(0),t=this.getModal(1);return r.a.createElement("div",null,r.a.createElement(cn,{modal:e,closeModal:this.closeModal}),r.a.createElement(cn,{modal:t,closeModal:this.closeModal}))}}]),t}(r.a.Component),on=Object(v.b)(function(e){return{modals:e.modals.modals}},null)(ln),un=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"pollLocalTransactions",value:function(){var t=Te.getState(),a=Object.keys(t.transactions.localTransactionsByHash);if(a.length>0)for(var n=0;n<a.length;n++){var r=a[n],s=t.transactions.localTransactionsByHash[r].network;Te.dispatch(gt(s,r))}setTimeout(function(){e.pollLocalTransactions()},5e3)}}]),e}(),dn=(a(674),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"UnsupportedDevice"},r.a.createElement("div",{className:"UnsupportedDevice__content"},r.a.createElement("img",{className:"UnsupportedDevice__logo",src:"/img/logo/theta_wallet_logo@2x.png"}),r.a.createElement("div",{className:"UnsupportedDevice__title"},"This wallet is designed for desktop. Try our mobile wallets!"),r.a.createElement("a",{className:"UnsupportedDevice__app-store-badge",href:"https://itunes.apple.com/app/theta-wallet/id1451094550?mt=8",target:"_blank"},r.a.createElement("img",{src:"/img/badges/app-store@2x.png"})),r.a.createElement("a",{className:"UnsupportedDevice__app-store-badge",href:"https://play.google.com/store/apps/details?id=org.theta.wallet",target:"_blank"},r.a.createElement("img",{src:"/img/badges/google-play@2x.png"}))))}}]),t}(r.a.Component)),hn=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).onSendClick=e.onSendClick.bind(Object(Oe.a)(Object(Oe.a)(e))),e.onReceiveClick=e.onReceiveClick.bind(Object(Oe.a)(Object(Oe.a)(e))),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"onSendClick",value:function(){Te.dispatch(vt({type:Ot.SEND}))}},{key:"onReceiveClick",value:function(){Te.dispatch(vt({type:Ot.RECEIVE}))}},{key:"render",value:function(){return r.a.createElement(St,null,r.a.createElement(xt,{title:"Wallet",href:"/wallet/tokens",normalIconUrl:"/img/tab-bar/wallet@2x.png",activeIconUrl:"/img/tab-bar/wallet-active@2x.png"}),r.a.createElement(xt,{title:"Send",onClick:this.onSendClick,normalIconUrl:"/img/tab-bar/send@2x.png",activeIconUrl:"/img/tab-bar/send-active@2x.png"}),r.a.createElement(xt,{title:"Receive",onClick:this.onReceiveClick,normalIconUrl:"/img/tab-bar/receive@2x.png",activeIconUrl:"/img/tab-bar/receive-active@2x.png"}),r.a.createElement(xt,{title:"Settings",href:"/wallet/settings",normalIconUrl:"/img/tab-bar/settings@2x.png",activeIconUrl:"/img/tab-bar/settings-active@2x.png"}))}}]),t}(n.Component),pn=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){Tt.setHistory(this.props.history)}},{key:"render",value:function(){var e=dt.getWalletAddress();return r.a.createElement("div",{className:"App"},r.a.createElement(_t,{centered:null===e}),r.a.createElement(Ma,null),r.a.createElement(on,null),r.a.createElement(dn,null))}}]),t}(n.Component),mn=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){Tt.setHistory(this.props.history),un.pollLocalTransactions()}},{key:"render",value:function(){return r.a.createElement("div",{className:"App WalletApp"},r.a.createElement(_t,null),r.a.createElement(hn,null),r.a.createElement(Ra,null),r.a.createElement(on,null),r.a.createElement(dn,null))}}]),t}(n.Component),fn=a(270),vn=(a(682),a(40)),bn=function(e){var t=e.message,a=e.options,n=e.style,s=e.close,i=a.type,c="Alert--".concat(i),l=vn("Alert",c);return r.a.createElement("div",{style:n,className:l},r.a.createElement("img",{src:"/img/icons/alert-".concat(i,"@2x.png"),className:"Alert__icon"}),r.a.createElement("div",{className:"Alert__message"},t),r.a.createElement("button",{className:"Alert__close-button",onClick:s},r.a.createElement("img",{src:"/img/icons/alert-x@2x.png"})))},yn={position:"top center",timeout:5e3,offset:"30px",transition:"scale"},gn=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=yt.getRef();return r.a.createElement(h.a,null,r.a.createElement(v.a,{store:Te},r.a.createElement(fn.a,Object.assign({ref:e,template:bn},yn),r.a.createElement(p.a,null,r.a.createElement(m.a,{from:"/",to:"/unlock",exact:!0}),r.a.createElement(f.a,{path:"/wallet",component:mn}),r.a.createElement(f.a,{path:"/",component:pn})))))}}]),t}(n.Component);pe.BigNumber.config({EXPONENTIAL_AT:1e9}),i.a.render(r.a.createElement(gn,null),document.getElementById("root"))}},[[274,1,2]]]);
//# sourceMappingURL=main.3105abe6.chunk.js.map